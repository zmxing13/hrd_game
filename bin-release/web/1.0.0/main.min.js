var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},ImgPublicClass=function(t){function e(){var e=t.call(this)||this;return e.indexNums=new Array,e.initIndex=new Array,e.id=0,e.boo=!1,e.ox=0,e.oy=0,e.typeNumber=0,e}return __extends(e,t),e}(egret.DisplayObjectContainer);__reflect(ImgPublicClass.prototype,"ImgPublicClass");var TypeSix=function(t){function e(e){var i=t.call(this)||this;return i.countIndex=0,i.countIndex=e,i.init_Sprite(),i.upPosition(),i.initEvent(),i}return __extends(e,t),e.prototype.init_Sprite=function(){this.img_content=new egret.Bitmap,this.img_content.width=240,this.img_content.height=80,1==this.countIndex&&(this.img_content.texture=RES.getRes("img_six_1_png")),2==this.countIndex&&(this.img_content.texture=RES.getRes("img_six_2_png")),3==this.countIndex&&(this.img_content.texture=RES.getRes("img_six_3_png")),4==this.countIndex&&(this.img_content.texture=RES.getRes("img_six_4_png")),5==this.countIndex&&(this.img_content.texture=RES.getRes("img_six_5_png")),this.addChild(this.img_content)},e.prototype.upPosition=function(){},e.prototype.initEvent=function(){},e.prototype.resetEvent=function(){},e}(ImgPublicClass);__reflect(TypeSix.prototype,"TypeSix");var PublicClass=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.typeOneHander=function(t,e,i){var r,s,n;r=t[e[1]][e[0]],s=t[i[1]][i[0]],n=t[e[1]][e[0]],t[e[1]][e[0]]=s,t[i[1]][i[0]]=n},e.prototype.typeTwoHander=function(t,e,i,r){var s=0,n=0,o=0,h=0,u=e[0][1],c=e[0][0],a=e[1][1],p=e[1][0];if("top"==r||"low"==r)var d=i[1],g=i[0];if("left"==r||"right"==r)var d=i[0][1],g=i[0][0],_=i[1][1],l=i[1][0];switch(r){case"top":s=t[a][p],t[a][p]=t[d][g],t[d][g]=s;break;case"low":s=t[u][c],t[u][c]=t[d][g],t[d][g]=s;break;case"left":s=t[u][c],n=t[a][p],o=t[d][g],h=t[_][l],t[d][g]=s,t[_][l]=n,t[u][c]=o,t[a][p]=h;break;case"right":s=t[u][c],n=t[a][p],o=t[d][g],h=t[_][l],t[d][g]=s,t[_][l]=n,t[u][c]=o,t[a][p]=h}},e.prototype.typeThreeHander=function(t,e,i,r){var s=0,n=0,o=0,h=0,u=e[0][1],c=e[0][0],a=e[1][1],p=e[1][0];if("left"==r||"right"==r)var d=i[1],g=i[0];if("top"==r||"low"==r)var d=i[0][1],g=i[0][0],_=i[1][1],l=i[1][0];switch(r){case"top":s=t[u][c],n=t[a][p],o=t[d][g],h=t[_][l],t[d][g]=s,t[_][l]=n,t[u][c]=o,t[a][p]=h;break;case"low":s=t[u][c],n=t[a][p],o=t[d][g],h=t[_][l],t[d][g]=s,t[_][l]=n,t[u][c]=o,t[a][p]=h;break;case"left":s=t[a][p],t[a][p]=t[d][g],t[d][g]=s;break;case"right":s=t[u][c],t[u][c]=t[d][g],t[d][g]=s}},e.prototype.typeFourHander=function(t,e,i,r){var s=0,n=0,o=0,h=0,u=0,c=0,a=e[0][1],p=e[0][0],d=e[1][1],g=e[1][0],_=e[2][1],l=e[2][0],y=e[3][1],m=e[3][0],x=i[0][1],b=i[0][0],O=i[1][1],f=i[1][0];switch(s=t[a][p],n=t[d][g],o=t[_][l],h=t[y][m],u=t[x][b],c=t[O][f],r){case"top":t[_][l]=u,t[y][m]=c,t[x][b]=s,t[O][f]=n;break;case"low":t[a][p]=u,t[d][g]=c,t[x][b]=s,t[O][f]=n;break;case"left":t[d][g]=u,t[y][m]=c,t[x][b]=n,t[O][f]=h;break;case"right":t[a][p]=u,t[_][l]=c,t[x][b]=s,t[O][f]=n}},e.prototype.typeFiveHander=function(t,e,i,r){var s=0,n=0,o=0,h=0,u=e[0][1],c=e[0][0],a=e[1][1],p=e[1][0],d=e[2][1],g=e[2][0];if("top"==r||"low"==r){var _=i[1],l=i[0];s=t[u][c],n=t[a][p],o=t[d][g],h=t[_][l]}switch(r){case"top":t[u][c]=s,t[a][p]=n,t[d][g]=h,t[_][l]=o;break;case"low":t[u][c]=h,t[a][p]=o,t[d][g]=n,t[_][l]=s}},e.prototype.typeSixeHander=function(t,e,i,r){if("left"==r||"right"==r)var s=0,n=0,o=0,h=0,u=e[0][1],c=e[0][0],a=e[1][1],p=e[1][0],d=e[2][1],g=e[2][0],_=i[1],l=i[0];if("top"==r||"low"==r)var s=0,n=0,o=0,h=0,y=0,m=0,u=e[0][1],c=e[0][0],a=e[1][1],p=e[1][0],d=e[2][1],g=e[2][0],_=i[0][1],l=i[0][0],x=i[1][1],b=i[1][0],O=i[2][1],f=i[2][0];switch(r){case"top":s=t[u][c],n=t[a][p],o=t[d][g],h=t[_][l],y=t[x][b],m=t[O][f],t[u][c]=h,t[a][p]=y,t[d][g]=m,t[_][l]=s,t[x][b]=n,t[O][f]=o;break;case"low":s=t[u][c],n=t[a][p],o=t[d][g],h=t[_][l],y=t[x][b],m=t[O][f],t[u][c]=h,t[a][p]=y,t[d][g]=m,t[_][l]=s,t[x][b]=n,t[O][f]=o;break;case"left":s=t[u][c],n=t[a][p],o=t[d][g],h=t[_][l],t[u][c]=s,t[a][p]=n,t[d][g]=h,t[_][l]=o;break;case"right":s=t[u][c],n=t[a][p],o=t[d][g],h=t[_][l],t[u][c]=h,t[a][p]=o,t[d][g]=n,t[_][l]=s}},e.prototype.twoPointDistance=function(t,e,i,r){var s=Math.abs(t-i),n=Math.abs(e-r);return Math.sqrt(s*s+n*n)},e}(egret.DisplayObjectContainer);__reflect(PublicClass.prototype,"PublicClass");var CreateLine=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createGridHander=function(t,e){var i,r;r=80*(e-1);for(var s=0;t>s;s++)i=80*s,this.drawLineHander(i,r,"x");for(r=80*(t-1),s=0;e>s;s++)i=80*s,this.drawLineHander(i,r,"y")},e.prototype.drawLineHander=function(t,e,i){var r=new egret.Shape;r.graphics.lineStyle(3,6044436,1),"x"==i&&(r.graphics.moveTo(t,0),r.graphics.lineTo(t,e)),"y"==i&&(r.graphics.moveTo(0,t),r.graphics.lineTo(e,t)),r.graphics.endFill(),this.addChild(r)},e}(egret.DisplayObjectContainer);__reflect(CreateLine.prototype,"CreateLine");var Layer_GamePage=function(t){function e(){var e=t.call(this)||this;return e.init_Sprite(),e.upPosition(),e.initEvent(),e}return __extends(e,t),e.prototype.init_Sprite=function(){this._layout=new StageLayout,this.addChild(this._layout)},e.prototype.upPosition=function(){this._layout.upPosition()},e.prototype.initEvent=function(){},e.prototype.resetEvent=function(){this._layout.resetEvent()},e}(egret.DisplayObjectContainer);__reflect(Layer_GamePage.prototype,"Layer_GamePage");var StageLayout=function(t){function e(){var e=t.call(this)||this;return e._publicClass=new PublicClass,e.spriteArr=new Array,e.scopeX=0,e.longitudinalY=0,e.directionStr="",e._distance=new egret.Point,e.answerPoint=new egret.Point,e.speedTime=0,e.currAngle="",e.typeTwoImgIndex=0,e.typeThreeImgIndex=0,e.typeFourImgIndex=0,e.typeFiveImgIndex=0,e.typeSixImgIndex=0,e.oldX=0,e.oldY=0,e.newX=0,e.newY=0,e.prevX=0,e.prevY=0,e.topAround=0,e.lowAround=0,e.leftAround=0,e.rightAround=0,e.moveDirWH="",e.checkBoo=!1,e._touchStatus=!1,e.distanceSum=0,e.directionAround=0,e.init_Sprite(),e.upPosition(),e.initEvent(),e}return __extends(e,t),e.prototype.init_Sprite=function(){this._stagePointArr=new Array,this._copyStagePointArr=new Array,this._stagePointArr=[[1,4,4,1],[1,4,4,1],[3,3,3,3],[3,3,3,3],[0,3,3,0]],this.scopeX=this._stagePointArr[0].length,this.longitudinalY=this._stagePointArr.length,this.speedTime=100,this.answerPoint.x=1,this.answerPoint.y=3,this.directionAround=40,this.typeTwoImgIndex=1,this.typeThreeImgIndex=1,this.typeFourImgIndex=1,this.typeFiveImgIndex=1,this.typeSixImgIndex=1,this.distanceSum=0,this.topAround=0,this.lowAround=0,this.leftAround=0,this.rightAround=0,this.moveDirWH="",this.checkBoo=!1,this._copyStagePointArr=[],this.touchEnabled=!0,this.touchChildren=!0,this._sprite=new egret.Sprite,this.addChild(this._sprite),this._tempBg=new egret.Sprite,this._tempBg.graphics.beginFill(16711680),this._tempBg.graphics.drawRect(0,0,Main.W,Main.H),this._tempBg.alpha=.001,this._tempBg.graphics.endFill(),this.addChild(this._tempBg),this.img_bg=new egret.Bitmap,this.img_bg.texture=RES.getRes("img_bg_png"),this._sprite.addChild(this.img_bg),this.ImgscopeX=new egret.Bitmap,this.ImgscopeX.texture=RES.getRes("img_cross_png"),this.ImgscopeX.x=40,this.ImgscopeX.y=-40,this._sprite.addChild(this.ImgscopeX),this.ImglongitudinalY=new egret.Bitmap,this.ImglongitudinalY.texture=RES.getRes("img_vertical_png"),this.ImglongitudinalY.x=-40,this.ImglongitudinalY.y=40,this._sprite.addChild(this.ImglongitudinalY),this._createLine=new CreateLine,this._createLine.createGridHander(this.scopeX+1,this.longitudinalY+1),this._createLine.x=20,this._createLine.y=15,this._sprite.addChild(this._createLine),this.restBtn=new egret.Bitmap,this.restBtn.texture=RES.getRes("img_btn_reset_png"),this.restBtn.x=this._createLine.width+this.restBtn.width/2,this.restBtn.y=this._createLine.height-this.restBtn.height,this.restBtn.scaleX=this.restBtn.scaleY=.8,this.restBtn.touchEnabled=!0,this.restBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.restBtnClick,this),this._sprite.addChild(this.restBtn);var t,e,i,r,s,n,o,h,u,c,a,p=0,d=!1,g=!1;for(i=[],r=[],s=[],n=[],o=[],h=[],u=[],c=[],a=[],t=0;t<this._stagePointArr.length;t++)this._copyStagePointArr[t]=this._stagePointArr[t].slice();for(t=0;t<this._copyStagePointArr.length;t++)for(e=0;e<this._copyStagePointArr[t].length;e++){if(p=this._copyStagePointArr[t][e],0==p&&(this._typeZero=new TypeZero,this._typeZero.x=20+80*e,this._typeZero.y=15+80*t,this._typeZero.indexNums=[e,t],this._typeZero.initIndex=this._typeZero.indexNums,this._typeZero.touchEnabled=!1,this._typeZero.touchChildren=!1,this._typeZero.ox=this._typeZero.x,this._typeZero.oy=this._typeZero.y,this._typeZero.alpha=.01,this._typeZero.id=p,this._sprite.addChild(this._typeZero),this.spriteArr.push(this._typeZero)),1==p&&(this._typeOne=new TypeOne,this._typeOne.x=20+80*e,this._typeOne.y=15+80*t,this._typeOne.id=1,this._typeOne.indexNums=[e,t],this._typeOne.initIndex=this._typeOne.indexNums.slice(),this._typeOne.touchEnabled=!0,this._typeOne.ox=this._typeOne.x,this._typeOne.oy=this._typeOne.y,this._typeOne.id=p,this._sprite.addChild(this._typeOne),this.spriteArr.push(this._typeOne),this._typeOne.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.currTypeDown,this)),2==p){for(var _=0;_<r.length;_++)e!=r[_][0]||t!=r[_][1]||(d=!0);if(1==d){d=!1;continue}i=[],this._typeTwo=new TypeTwo(this.typeTwoImgIndex),this._typeTwo.x=20+80*e,this._typeTwo.y=15+80*t,this._typeTwo.id=2,this._typeTwo.indexNums=[[e,t],[e,t+1]],i=[e,t+1],this._typeTwo.initIndex=this._typeTwo.indexNums.slice(),this._typeTwo.touchEnabled=!0,this.typeTwoImgIndex+=1,this._typeTwo.ox=this._typeTwo.x,this._typeTwo.oy=this._typeTwo.y,this._typeTwo.id=p,r.push(i),this._sprite.addChild(this._typeTwo),this.spriteArr.push(this._typeTwo),this._typeTwo.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.currTypeDown,this),d=!1}if(3==p){if(e==s[0]&&t==s[1])continue;this._typeThree=new TypeThree(this.typeThreeImgIndex),this._typeThree.x=20+80*e,this._typeThree.y=15+80*t,this._typeThree.id=3,this._typeThree.indexNums=[[e,t],[e+1,t]],s=[e+1,t],this._typeThree.initIndex=this._typeThree.indexNums.slice(),this._typeThree.touchEnabled=!0,this.typeThreeImgIndex+=1,this._typeThree.ox=this._typeThree.x,this._typeThree.oy=this._typeThree.y,this.spriteArr.push(this._typeThree),this._typeThree.id=p,this._sprite.addChild(this._typeThree),this._typeThree.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.currTypeDown,this)}if(4==p){for(var _=0;_<o.length;_++)for(var l=0;3>l;l++)e!=o[_][l][0]||t!=o[_][l][1]||(d=!0);if(1==d){d=!1;continue}n=[],this._typeFour=new TypeFour(this.typeFourImgIndex),this._typeFour.x=20+80*e,this._typeFour.y=15+80*t,this._typeFour.indexNums=[[e,t],[e+1,t],[e,t+1],[e+1,t+1]],n=[[e+1,t],[e,t+1],[e+1,t+1]],this._typeFour.initIndex=this._typeFour.indexNums.slice(),this._typeFour.touchEnabled=!0,this._typeFour.typeNumber=this.typeFourImgIndex,this.typeFourImgIndex+=1,this._typeFour.ox=this._typeFour.x,this._typeFour.oy=this._typeFour.y,this._typeFour.id=p,this._sprite.addChild(this._typeFour),this.spriteArr.push(this._typeFour),o.push(n),this._typeFour.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.currTypeDown,this),g=!0}if(5==p){for(var _=0;_<u.length;_++)(e==u[_][0][0]&&t==u[_][0][1]||e==u[_][1][0]&&t==u[_][1][1])&&(d=!0);if(1==d){d=!1;continue}h=[],this._typeFive=new TypeFive(this.typeFiveImgIndex),this._typeFive.x=20+80*e,this._typeFive.y=15+80*t,this._typeFive.id=5,this._typeFive.indexNums=[[e,t],[e,t+1],[e,t+2]],h=[[e,t+1],[e,t+2]],this._typeFive.initIndex=this._typeFive.indexNums.slice(),this._typeFive.touchEnabled=!0,this.typeFiveImgIndex+=1,this._typeFive.ox=this._typeFive.x,this._typeFive.oy=this._typeFive.y,u.push(h),this._typeFive.id=p,this._sprite.addChild(this._typeFive),this.spriteArr.push(this._typeFive),this._typeFive.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.currTypeDown,this),d=!1}if(6==p){for(var _=0;_<a.length;_++)(e==a[_][0][0]&&t==a[_][0][1]||e==a[_][1][0]&&t==a[_][1][1])&&(d=!0);if(1==d){d=!1;continue}c=[],this._typeSix=new TypeSix(this.typeSixImgIndex),this._typeSix.x=20+80*e,this._typeSix.y=15+80*t,this._typeSix.id=6,this._typeSix.indexNums=[[e,t],[e+1,t],[e+2,t]],c=[[e+1,t],[e+2,t]],this._typeSix.initIndex=this._typeSix.indexNums.slice(),this._typeSix.touchEnabled=!0,this.typeSixImgIndex+=1,this._typeSix.ox=this._typeSix.x,this._typeSix.oy=this._typeSix.y,this._typeSix.id=p,a.push(c),this._sprite.addChild(this._typeSix),this.spriteArr.push(this._typeSix),this._typeSix.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.currTypeDown,this),d=!1}}i=[],r=[],s=[],h=[],u=[],c=[],a=[]},e.prototype.upPosition=function(){this._tempBg.graphics.clear(),this._tempBg.graphics.beginFill(16711680),this._tempBg.graphics.drawRect(0,0,Main.W,Main.H),this._tempBg.alpha=.01,this._tempBg.graphics.endFill(),this.ImgscopeX.x=40,this.ImgscopeX.y=-40,this.ImglongitudinalY.x=-40,this.ImglongitudinalY.y=40;var t=this._tempBg.width/this._sprite.width,e=this._tempBg.height/this._sprite.height,i=0;i=e>t?t:e,this._sprite.scaleX=this._sprite.scaleY=Main.scaleNum,this._sprite.anchorOffsetX=this._sprite.width/2,this._sprite.anchorOffsetY=this._sprite.height/2,this._sprite.x=this._tempBg.width/2,this._sprite.y=this._tempBg.height/2+60},e.prototype.initEvent=function(){},e.prototype.currTypeDown=function(t){if(!this.returnBoo&&1!=this._touchStatus&&0==this._touchStatus){var e=t.currentTarget;this.currObj=e,this.oldX=t.stageX,this.oldY=t.stageY,this.prevX=e.x,this.prevY=e.y,this._distance.x=t.stageX-this.currObj.x,this._distance.y=t.stageY-this.currObj.y,this.checkBoo=!1,this._touchStatus=!0,this.checkAroundAllowLocation(),this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.currTypeMove,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.currTypeEnd,this)}},e.prototype.currTypeMove=function(t){this.returnBoo||1==this._touchStatus&&(0==this.checkBoo&&(this.newX=t.stageX,this.newY=t.stageY,this.currAngle=this.angle({x:this.oldX,y:this.oldY},{x:this.newX,y:this.newY}),this.distanceSum=this._publicClass.twoPointDistance(this.oldX,this.oldY,this.newX,this.newY),this.distanceSum>=this.directionAround&&(this.checkBoo=!0)),"left"==this.currAngle||"right"==this.currAngle?this.moveDirWH="H":("top"==this.currAngle||"low"==this.currAngle)&&(this.moveDirWH="V"),"H"==this.moveDirWH?(0!=this.leftAround?this.currObj.x=t.stageX-this._distance.x:0!=this.rightAround&&(this.currObj.x=t.stageX-this._distance.x),this.currObj.x<=this.prevX-80*this.leftAround?this.currObj.x=this.prevX-80*this.leftAround:this.currObj.x>=this.prevX+80*this.rightAround&&(this.currObj.x=this.prevX+80*this.rightAround)):"V"==this.moveDirWH&&(0!=this.topAround?this.currObj.y=t.stageY-this._distance.y:0!=this.lowAround&&(this.currObj.y=t.stageY-this._distance.y),this.currObj.y<=this.prevY-80*this.topAround?this.currObj.y=this.prevY-80*this.topAround:this.currObj.y>=this.prevY+80*this.lowAround&&(this.currObj.y=this.prevY+80*this.lowAround)))},e.prototype.currTypeEnd=function(t){if(!this.returnBoo){var e,i=(t.currentTarget,0),r="",s="",n=0;if(this._touchStatus=!1,this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.currTypeMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.currTypeEnd,this),this.newX=t.stageX,this.newY=t.stageY,r=this.angle({x:this.oldX,y:this.oldY},{x:this.newX,y:this.newY}),this.distanceSum=this._publicClass.twoPointDistance(this.prevX,this.prevY,this.currObj.x,this.currObj.y),n=Math.ceil(this.distanceSum),i=Math.round(n/80),console.log("移动倍数："+i),0==i)return void egret.Tween.get(this.currObj).to({x:this.prevX,y:this.prevY},this.speedTime).call(this.callReturnHander,this);switch("left"==r||"right"==r?s="H":("top"==r||"low"==r)&&(s="V"),r==this.currAngle?(console.log("两次方向判定一致"),this.currentTatgetMoveHander(r,i)):(console.log("两次方向判定不一致,并且鼠标有移出舞台行为"),s==this.moveDirWH?(console.log("type==1:   "+r),this.currentTatgetMoveHander(r,i),this.currAngle=r):(console.log("type==2"),this.currentTatgetMoveHander(this.currAngle,i))),this.currObj.id){case 1:for(e=1;i>=e;e++)this.judgeDirectionTypeOneHander();break;case 2:for(e=1;i>=e;e++)this.judgeDirectionTypeTwoHander();break;case 3:for(e=1;i>=e;e++)this.judgeDirectionTypeThreeHander();break;case 4:for(e=1;i>=e;e++)this.judgeDirectionTypeFourHander();if(this.currObj.indexNums[0].toString()==[this.answerPoint.x,this.answerPoint.y].toString())return this.currGameOverClick(),void console.log("over");break;case 5:for(e=1;i>=e;e++)this.judgeDirectionTypeFiveHander();break;case 6:for(e=1;i>=e;e++)this.judgeDirectionTypeSixHander()}console.log(this._copyStagePointArr)}},e.prototype.currentTatgetMoveHander=function(t,e){switch(t){case"top":egret.Tween.get(this.currObj).to({x:this.prevX,y:this.prevY-80*e},this.speedTime).call(this.callReturnHander,this);break;case"low":egret.Tween.get(this.currObj).to({x:this.prevX,y:this.prevY+80*e},this.speedTime).call(this.callReturnHander,this);break;case"left":egret.Tween.get(this.currObj).to({x:this.prevX-80*e,y:this.prevY},this.speedTime).call(this.callReturnHander,this);break;case"right":egret.Tween.get(this.currObj).to({x:this.prevX+80*e,y:this.prevY},this.speedTime).call(this.callReturnHander,this)}},e.prototype.judgeDirectionTypeOneHander=function(){var t,e,i=new Array,r=new Array,s=!1;i=[],r=[],t=this.currObj.indexNums[0],e=this.currObj.indexNums[1],this.directionStr="","top"==this.currAngle&&(this.directionStr="top",i=[t,e],r=[t,e-1],s=!0),"low"==this.currAngle&&(this.directionStr="low",i=[t,e],r=[t,e+1],s=!0),"left"==this.currAngle&&(this.directionStr="left",i=[t,e],r=[t-1,e],s=!0),"right"==this.currAngle&&(this.directionStr="right",i=[t,e],r=[t+1,e],s=!0),1==s&&(this._publicClass.typeOneHander(this._copyStagePointArr,i,r),this.typeOneReasonFineHitObjHander(r),this.typeOneExchangeDataHander())},e.prototype.judgeDirectionTypeTwoHander=function(){var t,e,i,r,s=new Array,n=new Array,o=!1;s=[],n=[],t=this.currObj.indexNums[0][0],e=this.currObj.indexNums[0][1],i=this.currObj.indexNums[1][0],r=this.currObj.indexNums[1][1],this.directionStr="","top"==this.currAngle&&(this.directionStr="top",s=[[t,e],[t,e+1]],n=[t,e-1],o=!0),"low"==this.currAngle&&(this.directionStr="low",s=[[i,r-1],[i,r]],n=[i,r+1],o=!0),"left"==this.currAngle&&(this.directionStr="left",s=[[t,e],[i,r]],n=[[t-1,e],[i-1,r]],o=!0),"right"==this.currAngle&&(this.directionStr="right",s=[[t,e],[i,r]],n=[[t+1,e],[i+1,r]],o=!0),1==o&&(this._publicClass.typeTwoHander(this._copyStagePointArr,s,n,this.directionStr),this.typeTwoReasonFineHitObjHander(n,this.directionStr))},e.prototype.judgeDirectionTypeThreeHander=function(){var t,e,i,r,s=new Array,n=new Array,o=!1;s=[],n=[],t=this.currObj.indexNums[0][0],e=this.currObj.indexNums[0][1],i=this.currObj.indexNums[1][0],r=this.currObj.indexNums[1][1],"top"==this.currAngle?(o=!0,s=[[t,r],[t+1,e]],n=[[t,e-1],[t+1,e-1]]):"low"==this.currAngle?(o=!0,s=[[t,e],[t+1,e]],n=[[t,e+1],[i,r+1]]):"left"==this.currAngle?(o=!0,s=[[t,e],[i,r]],n=[t-1,e]):"right"==this.currAngle&&(o=!0,s=[[t,e],[i,r]],n=[i+1,r]),1==o&&(this._publicClass.typeThreeHander(this._copyStagePointArr,s,n,this.currAngle),this.typeThreeReasonFineHitObjHander(n,this.currAngle))},e.prototype.judgeDirectionTypeFourHander=function(){var t,e,i,r,s,n,o,h,u=new Array,c=new Array,a=!1;u=[],c=[],t=this.currObj.indexNums[0][0],e=this.currObj.indexNums[0][1],i=this.currObj.indexNums[1][0],r=this.currObj.indexNums[1][1],s=this.currObj.indexNums[2][0],n=this.currObj.indexNums[2][1],o=this.currObj.indexNums[3][0],h=this.currObj.indexNums[3][1],this.directionStr="","low"==this.currAngle&&(this.directionStr="low",u=[[t,e],[i,r],[s,n],[o,h]],c=[[s,n+1],[o,h+1]],a=!0),"top"==this.currAngle&&(this.directionStr="top",u=[[t,e],[i,r],[s,n],[o,h]],c=[[t,e-1],[i,r-1]],a=!0),"left"==this.currAngle&&(this.directionStr="left",u=[[t,e],[i,r],[s,n],[o,h]],c=[[t-1,e],[s-1,n]],a=!0),"right"==this.currAngle&&(this.directionStr="right",u=[[t,e],[i,r],[s,n],[o,h]],c=[[i+1,r],[o+1,h]],a=!0),1==a&&(this._publicClass.typeFourHander(this._copyStagePointArr,u,c,this.directionStr),this.typeFourReasonFineHitObjHander(c,this.directionStr))},e.prototype.judgeDirectionTypeFiveHander=function(){var t,e,i,r,s,n,o=new Array,h=new Array,u=new Array,c=!1;o=[],h=[],u=[],t=this.currObj.indexNums[0][0],e=this.currObj.indexNums[0][1],i=this.currObj.indexNums[1][0],r=this.currObj.indexNums[1][1],s=this.currObj.indexNums[2][0],n=this.currObj.indexNums[2][1],this.directionStr="","top"==this.currAngle?(o=[[t,e],[t,e+1],[t,e+2]],h=[t,e-1],c=!0):"low"==this.currAngle?(o=[[i,r-1],[i,r],[i,r+1]],h=[i,r+2],c=!0):"left"==this.currAngle?c=!0:"right"==this.currAngle&&(c=!0),1==c&&(this._publicClass.typeFiveHander(this._copyStagePointArr,o,h,this.currAngle),this.typeFiveReasonFiveHitObjHander(h,this.currAngle))},e.prototype.judgeDirectionTypeSixHander=function(){var t,e,i,r,s,n,o=new Array,h=new Array,u=new Array,c=!1;o=[],h=[],u=[],t=this.currObj.indexNums[0][0],e=this.currObj.indexNums[0][1],i=this.currObj.indexNums[1][0],r=this.currObj.indexNums[1][1],s=this.currObj.indexNums[2][0],n=this.currObj.indexNums[2][1],this.directionStr="","top"==this.currAngle?(c=!0,o=[[t,e],[i,r],[s,n]],h=[[t,e-1],[i,r-1],[s,n-1]],console.log(o),console.log(h)):"low"==this.currAngle?(c=!0,o=[[t,e],[i,r],[s,n]],h=[[t,e+1],[i,r+1],[s,n+1]],console.log(o),console.log(h)):"left"==this.currAngle?(o=[[t,e],[i,r],[s,n]],h=[t-1,e],c=!0):"right"==this.currAngle&&(o=[[t,e],[i,r],[s,n]],h=[s+1,n],c=!0),1==c&&(this._publicClass.typeSixeHander(this._copyStagePointArr,o,h,this.currAngle),this.typeSixReasonSixHitObjHander(h,this.currAngle))},e.prototype.typeOneReasonFineHitObjHander=function(t){var e,i,r,s,n=!1;for(e=0;e<this.spriteArr.length;e++){for(r=this.spriteArr[e].indexNums,s=this.spriteArr[e],n=!0,i=0;i<r.length;i++)if(t[i]!=r[i]){n=!1;break}1==n&&(this.hitObj=s)}},e.prototype.typeOneExchangeDataHander=function(){var t;this.returnBoo=!0,t=this.currObj.indexNums,this.currObj.indexNums=this.hitObj.indexNums,this.hitObj.indexNums=t},e.prototype.typeTwoReasonFineHitObjHander=function(t,e){var i,r,s,n,o,h,u,c,a,p=!1,d=0,g=new Array;if("top"==e||"low"==e)for(i=0;i<this.spriteArr.length;i++){for(n=this.spriteArr[i].indexNums,o=this.spriteArr[i],p=!0,r=0;r<n.length;r++)if(t[r]!=n[r]){p=!1;break}1==p&&(this.hitObj=o)}if("left"==e||"right"==e)for(s=0;2>s;s++)for(g=t[d],i=0;i<this.spriteArr.length;i++){for(n=this.spriteArr[i].indexNums,o=this.spriteArr[i],p=!0,r=0;r<n.length;r++)if(g[r]!=n[r]){p=!1;break}1==p&&(0==d&&(this.hitObjA=o,d+=1),1==d&&(this.hitObjB=o))}switch(e){case"top":this.returnBoo=!0,h=this.currObj.indexNums[0],u=this.currObj.indexNums[1],c=this.hitObj.indexNums,this.currObj.indexNums[0]=c,this.currObj.indexNums[1]=h,this.hitObj.indexNums=u;break;case"low":this.returnBoo=!0,h=this.currObj.indexNums[0],u=this.currObj.indexNums[1],c=this.hitObj.indexNums,this.currObj.indexNums[1]=c,this.currObj.indexNums[0]=u,this.hitObj.indexNums=h;break;case"left":this.returnBoo=!0,h=this.currObj.indexNums[0],u=this.currObj.indexNums[1],c=this.hitObjA.indexNums,a=this.hitObjB.indexNums,this.currObj.indexNums[0]=c,this.currObj.indexNums[1]=a,this.hitObjA.indexNums=h,this.hitObjB.indexNums=u;break;case"right":this.returnBoo=!0,h=this.currObj.indexNums[0],u=this.currObj.indexNums[1],c=this.hitObjA.indexNums,a=this.hitObjB.indexNums,this.currObj.indexNums[0]=c,this.currObj.indexNums[1]=a,this.hitObjA.indexNums=h,this.hitObjB.indexNums=u}},e.prototype.typeThreeReasonFineHitObjHander=function(t,e){var i,r,s,n,o,h,u,c,a,p=!1,d=0,g=new Array;if("left"==e||"right"==e)for(i=0;i<this.spriteArr.length;i++){for(n=this.spriteArr[i].indexNums,o=this.spriteArr[i],p=!0,r=0;r<n.length;r++)if(t[r]!=n[r]){p=!1;break}1==p&&(this.hitObj=o)}if("top"==e||"low"==e)for(s=0;2>s;s++)for(g=t[d],i=0;i<this.spriteArr.length;i++){for(n=this.spriteArr[i].indexNums,o=this.spriteArr[i],p=!0,r=0;r<n.length;r++)if(g[r]!=n[r]){p=!1;break}1==p&&(0==d&&(this.hitObjA=o,d+=1),1==d&&(this.hitObjB=o))}switch(e){case"top":this.returnBoo=!0,h=this.currObj.indexNums[0],u=this.currObj.indexNums[1],c=this.hitObjA.indexNums,a=this.hitObjB.indexNums,this.currObj.indexNums[0]=c,this.currObj.indexNums[1]=a,this.hitObjA.indexNums=h,this.hitObjB.indexNums=u;break;case"low":this.returnBoo=!0,h=this.currObj.indexNums[0],u=this.currObj.indexNums[1],c=this.hitObjA.indexNums,a=this.hitObjB.indexNums,this.currObj.indexNums[0]=c,this.currObj.indexNums[1]=a,this.hitObjA.indexNums=h,this.hitObjB.indexNums=u;break;case"left":this.returnBoo=!0,h=this.currObj.indexNums[0],u=this.currObj.indexNums[1],c=this.hitObj.indexNums,this.currObj.indexNums[0]=c,this.currObj.indexNums[1]=h,this.hitObj.indexNums=u;break;case"right":this.returnBoo=!0,h=this.currObj.indexNums[0],u=this.currObj.indexNums[1],c=this.hitObj.indexNums,this.currObj.indexNums[0]=u,this.currObj.indexNums[1]=c,this.hitObj.indexNums=h}},e.prototype.typeFourReasonFineHitObjHander=function(t,e){var i,r,s,n,o,h,u,c,a,p,d,g=!1,_=0,l=new Array;for(s=0;2>s;s++)for(l=t[_],i=0;i<this.spriteArr.length;i++){for(n=this.spriteArr[i].indexNums,o=this.spriteArr[i],g=!0,r=0;r<n.length;r++)if(l[r]!=n[r]){g=!1;break}1==g&&(0==_&&(this.hitObjA=o,_+=1),1==_&&(this.hitObjB=o))}switch(e){case"top":this.returnBoo=!0,h=this.currObj.indexNums[0],u=this.currObj.indexNums[1],c=this.currObj.indexNums[2],a=this.currObj.indexNums[3],p=this.hitObjA.indexNums,d=this.hitObjB.indexNums,this.currObj.indexNums[0]=p,this.currObj.indexNums[1]=d,this.currObj.indexNums[2]=h,this.currObj.indexNums[3]=u,this.hitObjA.indexNums=c,this.hitObjB.indexNums=a;break;case"low":this.returnBoo=!0,h=this.currObj.indexNums[0],u=this.currObj.indexNums[1],c=this.currObj.indexNums[2],a=this.currObj.indexNums[3],p=this.hitObjA.indexNums,d=this.hitObjB.indexNums,this.currObj.indexNums[0]=c,this.currObj.indexNums[1]=a,this.currObj.indexNums[2]=p,this.currObj.indexNums[3]=d,this.hitObjA.indexNums=h,this.hitObjB.indexNums=u;break;case"left":this.returnBoo=!0,h=this.currObj.indexNums[0],u=this.currObj.indexNums[1],c=this.currObj.indexNums[2],a=this.currObj.indexNums[3],p=this.hitObjA.indexNums,d=this.hitObjB.indexNums,this.currObj.indexNums[0]=p,this.currObj.indexNums[1]=h,this.currObj.indexNums[2]=d,this.currObj.indexNums[3]=c,this.hitObjA.indexNums=u,this.hitObjB.indexNums=a;break;case"right":this.returnBoo=!0,h=this.currObj.indexNums[0],u=this.currObj.indexNums[1],c=this.currObj.indexNums[2],a=this.currObj.indexNums[3],p=this.hitObjA.indexNums,d=this.hitObjB.indexNums,this.currObj.indexNums[0]=u,this.currObj.indexNums[1]=p,this.currObj.indexNums[2]=a,this.currObj.indexNums[3]=d,this.hitObjA.indexNums=h,this.hitObjB.indexNums=c}},e.prototype.typeFiveReasonFiveHitObjHander=function(t,e){var i,r,s,n,o,h,u,c,a=!1;new Array;if("top"==e||"low"==e)for(i=0;i<this.spriteArr.length;i++){for(s=this.spriteArr[i].indexNums,n=this.spriteArr[i],a=!0,r=0;r<s.length;r++)if(t[r]!=s[r]){a=!1;break}1==a&&(this.hitObj=n)}switch(e){case"top":this.returnBoo=!0,o=this.currObj.indexNums[0],h=this.currObj.indexNums[1],u=this.currObj.indexNums[2],c=this.hitObj.indexNums,this.currObj.indexNums[0]=c,this.currObj.indexNums[1]=o,this.currObj.indexNums[2]=h,this.hitObj.indexNums=u;break;case"low":this.returnBoo=!0,o=this.currObj.indexNums[0],h=this.currObj.indexNums[1],u=this.currObj.indexNums[2],c=this.hitObj.indexNums,this.currObj.indexNums[0]=h,this.currObj.indexNums[1]=u,this.currObj.indexNums[2]=c,this.hitObj.indexNums=o}},e.prototype.typeSixReasonSixHitObjHander=function(t,e){var i,r,s,n,o,h,u,c,a,p,d=!1;new Array;if("left"==e||"right"==e)for(i=0;i<this.spriteArr.length;i++){for(s=this.spriteArr[i].indexNums,n=this.spriteArr[i],d=!0,r=0;r<s.length;r++)if(t[r]!=s[r]){d=!1;break}1==d&&(this.hitObj=n)}switch(e){case"left":o=this.currObj.x,h=this.currObj.y,egret.Tween.get(this.currObj).to({x:this.hitObj.x,y:this.hitObj.y},this.speedTime).call(this.callReturnHander,this),this.returnBoo=!0,this.hitObj.x=o+160,this.hitObj.y=h,u=this.currObj.indexNums[0],c=this.currObj.indexNums[1],a=this.currObj.indexNums[2],p=this.hitObj.indexNums,this.currObj.indexNums[0]=p,this.currObj.indexNums[1]=u,this.currObj.indexNums[2]=c,this.hitObj.indexNums=a;break;case"right":o=this.currObj.x,h=this.currObj.y,egret.Tween.get(this.currObj).to({x:this.hitObj.x-160,y:this.hitObj.y},this.speedTime).call(this.callReturnHander,this),this.returnBoo=!0,this.hitObj.x=o,this.hitObj.y=h,u=this.currObj.indexNums[0],c=this.currObj.indexNums[1],a=this.currObj.indexNums[2],p=this.hitObj.indexNums,this.currObj.indexNums[0]=c,this.currObj.indexNums[1]=a,this.currObj.indexNums[2]=p,this.hitObj.indexNums=u}},e.prototype.callReturnHander=function(){this.returnBoo=!1},e.prototype.angle=function(t,e){var i=Math.atan2(e.y-t.y,e.x-t.x),r=i*(180/Math.PI),s="";return r>-135&&-45>r?s="top":r>=-45&&45>=r?s="right":r>45&&135>=r?s="low":(-135>=r&&r>=-180||r>135&&180>=r)&&(s="left"),s},e.prototype.currGameOverClick=function(){egret.Tween.get(this.currObj).to({x:this.currObj.x,y:this.currObj.y+this.currObj.height,alpha:0},600);var t,e;for(t=0;t<this.spriteArr.length;t++)e=this.spriteArr[t],e.touchEnabled=!1},e.prototype.restBtnClick=function(t){this.resetEvent()},e.prototype.resetEvent=function(){this.touchEnabled=!0,this.returnBoo=!1,this.checkBoo=!1,this.directionStr="",this.currAngle="",this.topAround=0,this.lowAround=0,this.leftAround=0,this.rightAround=0,this.moveDirWH="",this.distanceSum=0,this.oldX=this.oldY=this.newX=this.newY=this.prevX=this.prevY=0,this.scopeX=this._copyStagePointArr[0].length,this.longitudinalY=this._copyStagePointArr.length,this._copyStagePointArr=[];var t,e;for(t=0;t<this._stagePointArr.length;t++)this._copyStagePointArr[t]=this._stagePointArr[t].slice();for(t=0;t<this.spriteArr.length;t++)e=this.spriteArr[t],e.x=e.ox,e.y=e.oy,e.indexNums=e.initIndex.slice(),0!=e.id&&(e.touchEnabled=!0);null!=this.currObj&&(this.currObj.alpha=1,this.currObj=this.hitObj=this.hitObjA=this.hitObjB=null)},e.prototype.checkCurrTatgetAround=function(t){var e,i,r=[],s=0,n=0,o=0,h=0;if(1==t){for(s=0,n=0,o=0,h=0,e=this.currObj.indexNums[0],i=this.currObj.indexNums[1];i-1>=0&&0==this._copyStagePointArr[i-1][e];)i-=1,s++;for(e=this.currObj.indexNums[0],i=this.currObj.indexNums[1];i+1!=this.longitudinalY&&0==this._copyStagePointArr[i+1][e];)i+=1,n++;for(e=this.currObj.indexNums[0],i=this.currObj.indexNums[1];e>=0&&0==this._copyStagePointArr[i][e-1];)e-=1,o++;for(e=this.currObj.indexNums[0],i=this.currObj.indexNums[1];e!=this.scopeX&&0==this._copyStagePointArr[i][e+1];)e+=1,h++;return r.push(s,n,o,h),r}if(2==t){for(s=0,n=0,o=0,h=0,e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];i-1>=0&&0==this._copyStagePointArr[i-1][e];)i-=1,s++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[1][1];i+1!=this.longitudinalY&&0==this._copyStagePointArr[i+1][e];)i+=1,n++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];e>=0&&0==this._copyStagePointArr[i][e-1]&&0==this._copyStagePointArr[i+1][e-1];)e-=1,o++;for(e=this.currObj.indexNums[1][0],i=this.currObj.indexNums[1][1];e!=this.scopeX&&0==this._copyStagePointArr[i][e+1]&&0==this._copyStagePointArr[i][e+1];)e+=1,h++;return r.push(s,n,o,h),r}if(3==t){for(s=0,n=0,o=0,h=0,r=[],e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];i-1>=0&&0==this._copyStagePointArr[i-1][e]&&0==this._copyStagePointArr[i-1][e+1];)i-=1,s++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];i+1!=this.longitudinalY&&0==this._copyStagePointArr[i+1][e]&&0==this._copyStagePointArr[i+1][e+1];)i+=1,n++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];e>=0&&0==this._copyStagePointArr[i][e-1];)e-=1,o++;for(e=this.currObj.indexNums[1][0],i=this.currObj.indexNums[1][1];e!=this.scopeX&&0==this._copyStagePointArr[i][e+1];)e+=1,h++;return r.push(s,n,o,h),r}if(4==t){for(s=0,n=0,o=0,h=0,r=[],e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];i-1>=0&&0==this._copyStagePointArr[i-1][e]&&0==this._copyStagePointArr[i-1][e+1];)i-=1,s++;
for(e=this.currObj.indexNums[2][0],i=this.currObj.indexNums[2][1];i+1!=this.longitudinalY&&0==this._copyStagePointArr[i+1][e]&&0==this._copyStagePointArr[i+1][e+1];)i+=1,n++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];e>=0&&0==this._copyStagePointArr[i][e-1]&&0==this._copyStagePointArr[i+1][e-1];)e-=1,o++;for(e=this.currObj.indexNums[1][0],i=this.currObj.indexNums[1][1];e!=this.scopeX&&0==this._copyStagePointArr[i][e+1]&&0==this._copyStagePointArr[i+1][e+1];)e+=1,h++;return r.push(s,n,o,h),r}if(5==t){for(s=0,n=0,o=0,h=0,e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];i-1>=0&&0==this._copyStagePointArr[i-1][e];)i-=1,s++;for(e=this.currObj.indexNums[2][0],i=this.currObj.indexNums[2][1];i+1!=this.longitudinalY&&0==this._copyStagePointArr[i+1][e];)i+=1,n++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];e>=0&&0==this._copyStagePointArr[i][e-1]&&0==this._copyStagePointArr[i+1][e-1]&&0==this._copyStagePointArr[i+2][e-1];)e-=1,o++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];e!=this.scopeX&&0==this._copyStagePointArr[i][e+1]&&0==this._copyStagePointArr[i+1][e+1]&&0==this._copyStagePointArr[i+2][e+1];)e+=1,h++;return r.push(s,n,o,h),r}if(6==t){for(s=0,n=0,o=0,h=0,r=[],e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];i-1>=0&&0==this._copyStagePointArr[i-1][e]&&0==this._copyStagePointArr[i-1][e+1]&&0==this._copyStagePointArr[i-1][e+2];)i-=1,s++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];i+1!=this.longitudinalY&&0==this._copyStagePointArr[i+1][e]&&0==this._copyStagePointArr[i+1][e+1]&&0==this._copyStagePointArr[i+1][e+2];)i+=1,n++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];e>=0&&0==this._copyStagePointArr[i][e-1];)e-=1,o++;for(e=this.currObj.indexNums[2][0],i=this.currObj.indexNums[2][1];e!=this.scopeX&&0==this._copyStagePointArr[i][e+1];)e+=1,h++;return r.push(s,n,o,h),r}},e.prototype.checkAroundAllowLocation=function(){var t=[];t=this.checkCurrTatgetAround(this.currObj.id),this.topAround=t[0],this.lowAround=t[1],this.leftAround=t[2],this.rightAround=t[3],console.log("top:"+this.topAround+"   low:"+this.lowAround+"   left:"+this.leftAround+"   right:"+this.rightAround)},e}(egret.DisplayObjectContainer);__reflect(StageLayout.prototype,"StageLayout");var TypeFive=function(t){function e(e){var i=t.call(this)||this;return i.countIndex=0,i.countIndex=e,i.init_Sprite(),i.upPosition(),i.initEvent(),i}return __extends(e,t),e.prototype.init_Sprite=function(){this.img_content=new egret.Bitmap,this.img_content.width=80,this.img_content.height=240,1==this.countIndex&&(this.img_content.texture=RES.getRes("img_five_1_png")),2==this.countIndex&&(this.img_content.texture=RES.getRes("img_five_2_png")),3==this.countIndex&&(this.img_content.texture=RES.getRes("img_five_3_png")),4==this.countIndex&&(this.img_content.texture=RES.getRes("img_five_4_png")),5==this.countIndex&&(this.img_content.texture=RES.getRes("img_five_5_png")),this.addChild(this.img_content)},e.prototype.upPosition=function(){},e.prototype.initEvent=function(){},e.prototype.resetEvent=function(){},e}(ImgPublicClass);__reflect(TypeFive.prototype,"TypeFive");var TypeFour=function(t){function e(e){var i=t.call(this)||this;return i.countIndex=0,i.countIndex=e,i.init_Sprite(),i.upPosition(),i.initEvent(),i}return __extends(e,t),e.prototype.init_Sprite=function(){this.img_content=new egret.Bitmap,this.img_content.width=160,this.img_content.height=160,1==this.countIndex&&(this.img_content.texture=RES.getRes("img_four_1_png")),2==this.countIndex&&(this.img_content.texture=RES.getRes("img_four_2_png")),3==this.countIndex&&(this.img_content.texture=RES.getRes("img_four_3_png")),4==this.countIndex&&(this.img_content.texture=RES.getRes("img_four_4_png")),5==this.countIndex&&(this.img_content.texture=RES.getRes("img_four_5_png")),this.addChild(this.img_content)},e.prototype.upPosition=function(){},e.prototype.initEvent=function(){},e.prototype.resetEvent=function(){},e}(ImgPublicClass);__reflect(TypeFour.prototype,"TypeFour");var TypeOne=function(t){function e(){var e=t.call(this)||this;return e.init_Sprite(),e.upPosition(),e.initEvent(),e}return __extends(e,t),e.prototype.init_Sprite=function(){this.img_content=new egret.Bitmap,this.img_content.width=80,this.img_content.height=80,this.img_content.texture=RES.getRes("img_one_png"),this.addChild(this.img_content)},e.prototype.upPosition=function(){},e.prototype.initEvent=function(){},e.prototype.resetEvent=function(){},e}(ImgPublicClass);__reflect(TypeOne.prototype,"TypeOne");var EventManage=function(t){function e(e,i){void 0===i&&(i=null);var r=t.call(this,e)||this;return r.data=i,r}return __extends(e,t),e}(egret.Event);EventManage.SOUND_COMPLETE="sound_complete",EventManage.SOUND_CYCLE_SOUND="sound_cycle_sound",EventManage.STATE_ANIMATE_END="stage_animate_end",EventManage.STATE_MOVE_END="move_end",__reflect(EventManage.prototype,"EventManage");var TypeThree=function(t){function e(e){var i=t.call(this)||this;return i.countIndex=0,i.inedx=0,i.id=0,i.boo=!1,i.ox=0,i.oy=0,i.countIndex=e,i.init_Sprite(),i.upPosition(),i.initEvent(),i}return __extends(e,t),e.prototype.init_Sprite=function(){this.img_content=new egret.Bitmap,this.img_content.width=160,this.img_content.height=80,1==this.countIndex&&(this.img_content.texture=RES.getRes("img_three_1_png")),2==this.countIndex&&(this.img_content.texture=RES.getRes("img_three_2_png")),3==this.countIndex&&(this.img_content.texture=RES.getRes("img_three_3_png")),4==this.countIndex&&(this.img_content.texture=RES.getRes("img_three_4_png")),5==this.countIndex&&(this.img_content.texture=RES.getRes("img_three_5_png")),this.addChild(this.img_content)},e.prototype.upPosition=function(){},e.prototype.initEvent=function(){},e.prototype.resetEvent=function(){},e}(ImgPublicClass);__reflect(TypeThree.prototype,"TypeThree");var TypeTwo=function(t){function e(e){var i=t.call(this)||this;return i.countIndex=0,i.countIndex=e,i.init_Sprite(),i.upPosition(),i.initEvent(),i}return __extends(e,t),e.prototype.init_Sprite=function(){this.img_content=new egret.Bitmap,this.img_content.width=80,this.img_content.height=160,1==this.countIndex&&(this.img_content.texture=RES.getRes("img_two_1_png")),2==this.countIndex&&(this.img_content.texture=RES.getRes("img_two_2_png")),3==this.countIndex&&(this.img_content.texture=RES.getRes("img_two_3_png")),4==this.countIndex&&(this.img_content.texture=RES.getRes("img_two_4_png")),this.addChild(this.img_content)},e.prototype.upPosition=function(){},e.prototype.initEvent=function(){},e.prototype.resetEvent=function(){},e}(ImgPublicClass);__reflect(TypeTwo.prototype,"TypeTwo");var TypeZero=function(t){function e(){var e=t.call(this)||this;return e.init_Sprite(),e.upPosition(),e.initEvent(),e}return __extends(e,t),e.prototype.init_Sprite=function(){this.img_content=new egret.Bitmap,this.img_content.width=80,this.img_content.height=80,this.img_content.texture=RES.getRes("img_zero_png"),this.addChild(this.img_content)},e.prototype.upPosition=function(){},e.prototype.initEvent=function(){},e.prototype.resetEvent=function(){},e}(ImgPublicClass);__reflect(TypeZero.prototype,"TypeZero");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e._newW=0,e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this._bg=new egret.Sprite,this._bg.graphics.beginFill(0,1),this._bg.graphics.drawRect(0,0,Main.W,Main.H),this._bg.graphics.endFill(),this.addChild(this._bg),this._bg.width=Main.W,this._bg.height=Main.H,this._bar=new egret.Sprite,this._bar.graphics.beginFill(39270,1),this._bar.graphics.drawRect(0,0,1,5),this._bar.graphics.endFill(),this.addChild(this._bar)},e.prototype.setProgress=function(t,e){this._newW=Main.W*t/e,this._bar.graphics.clear(),this._bar.graphics.beginFill(39270,1),this._bar.graphics.drawRect(0,0,this._newW,5),this._bar.graphics.endFill(),this._bar.y=Main.H-5},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(t){function e(){var e=t.call(this)||this;return e.name="_main",e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),this.upStageInfo(),this.stage.addEventListener(egret.Event.RESIZE,this.upPositionEvent,this),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},e.prototype.upPositionEvent=function(t){this.upStageInfo(),this._gamePage&&this._gamePage.upPosition()},e.prototype.upStageInfo=function(){e.W=this.stage.stageWidth,e.H=this.stage.stageHeight;var t=e.W/1024,i=e.H/768;e.scaleNum=Math.min(t,i),e.Rect=new egret.Rectangle(0,0,e.W,e.H)},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},e.prototype.onResourceLoadComplete=function(t){"preload"==t.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.createGameScene())},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},e.prototype.createGameScene=function(){this._gamePage=new Layer_GamePage,this._gamePage.x=e.W/2-this._gamePage.width/2,this.addChild(this._gamePage)},e.prototype.restFun=function(){console.log("调取egret刷新"),this._gamePage.resetEvent()},e}(egret.DisplayObjectContainer);Main.scaleNum=1,Main.W=1024,Main.H=768,__reflect(Main.prototype,"Main");var DragonBonesAnimation=function(t){function e(e,i){void 0===i&&(i="Armature");var r=t.call(this)||this;return r.factory=new dragonBones.EgretFactory,r.addArmatureToFactory(r.factory,e),r.armature=r.factory.buildArmature(i),r.newObject=r.armature.display,r.addChild(r.newObject),dragonBones.WorldClock.clock.add(r.armature),r}return __extends(e,t),e.prototype.setNewTexture=function(t,e){var i=0,r=0,s=this.armature.getBone(t);i=s.slot.display.texture.textureWidth,r=s.slot.display.texture.textureHeight;var n=new egret.Bitmap;return n.texture=RES.getRes(e),n.anchorOffsetX=n.width/2,n.anchorOffsetY=n.height/2,s.slot.display=n,[i,r,n]},e.prototype.upSlotDisplay=function(t,e){var i=this.factory.getTextureDisplay(e),r=this.armature.getSlot(t);r.setDisplay(i)},e.prototype.playAction=function(t,e,i,r){return void 0===e&&(e=0),void 0===i&&(i=-1),void 0===r&&(r=0/0),this.armature.animation.gotoAndPlay(t,e,i,r)},e.prototype.play=function(){this.armature.animation.play()},e.prototype.stop=function(){this.armature.animation.stop()},e.prototype.gotoAndStop=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=-1),this.armature.animation.gotoAndStop(t,e),this.armature.animation.lastAnimationState},Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing=this.armature.animation.isPlaying,this._playing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastAnimationState",{get:function(){return this.armature.animation.lastAnimationState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._isComplete=this.armature.animation.isCompleted,this._isComplete},enumerable:!0,configurable:!0}),e.prototype.setTimeScale=function(t){this.armature.animation.timeScale=t},e.prototype.addArmatureToFactory=function(t,e){var i=RES.getRes(e+"_ske_json"),r=RES.getRes(e+"_tex_json"),s=RES.getRes(e+"_tex_png");s.pixelHitTest=!0,t.addSkeletonData(dragonBones.DataParser.parseDragonBonesData(i)),t.addTextureAtlas(new dragonBones.EgretTextureAtlas(s,r))},e}(egret.DisplayObjectContainer);__reflect(DragonBonesAnimation.prototype,"DragonBonesAnimation");var MovieClipAnimation=function(t){function e(e){var i=t.call(this)||this;i.ox=0,i.oy=0,i.id=0,i.type="";var r=RES.getRes(e+"_json"),s=RES.getRes(e+"_png"),n=new egret.MovieClipDataFactory(r,s);return i.mc=new egret.MovieClip(n.generateMovieClipData(e)),i.addChild(i.mc),i}return __extends(e,t),e.prototype.gotoAndPlay=function(t,e){void 0===e&&(e=0),this.mc.gotoAndPlay(t,e)},e.prototype.gotoAndStop=function(t){this.mc.gotoAndStop(t)},e.prototype.play=function(t){void 0===t&&(t=1),this.mc.play(t)},e.prototype.stop=function(){this.mc.stop()},Object.defineProperty(e.prototype,"frameRate",{get:function(){return this.mc.frameRate},set:function(t){this._frameRate=t>>0,this.mc.frameRate=this._frameRate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){return this._currentFrame=this.mc.currentFrame,this._currentFrame=this._currentFrame>>0,this._currentFrame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._totalFrames=this.mc.totalFrames,this._totalFrames},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._isPlaying=this.mc.isPlaying,this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width=this.mc.width,this._width},set:function(t){this._width=t,this.mc.width=this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height=this.mc.height,this._height},set:function(t){this._height=t,this.mc.height=this._height},enumerable:!0,configurable:!0}),e}(egret.DisplayObjectContainer);__reflect(MovieClipAnimation.prototype,"MovieClipAnimation");var SoundManage=function(t){function e(i){var r=t.call(this)||this;return e._sounds=[],r}return __extends(e,t),e.getInstance=function(){return null==e._soundManage&&(e._soundManage=new e(new SingletonEnforcer)),e._soundManage},e.prototype.play=function(t,i){void 0===i&&(i=!1);var r,s;r=new egret.Sound,r=RES.getRes(t);var n;s=r.play(0,i?-1:1),n=s,e._sounds.push([r,n,t]),n.addEventListener(egret.Event.SOUND_COMPLETE,this.currSoundComplete,this)},e.prototype.stopSound=function(t){for(var i,r=0,s="",n=0;n<e._sounds.length;n++)if(e._sounds[n][2]==t){r=n;break}i=e._sounds.splice(r,1)[0],i[1].stop(),s=i[2],i=[],this.dispatchEvent(new EventManage(EventManage.SOUND_CYCLE_SOUND,s))},e.prototype.currSoundComplete=function(t){t.currentTarget.removeEventListener(egret.Event.SOUND_COMPLETE,this.currSoundComplete,this);for(var i=0,r=0;r<e._sounds.length;r++)if(e._sounds[r][0]==t.currentTarget){i=r;break}this.dispatchEvent(new EventManage(EventManage.SOUND_COMPLETE,e._sounds[i][2])),e._sounds.splice(i,1)},e}(egret.DisplayObjectContainer);__reflect(SoundManage.prototype,"SoundManage");var SingletonEnforcer=function(){function t(){}return t}();__reflect(SingletonEnforcer.prototype,"SingletonEnforcer");