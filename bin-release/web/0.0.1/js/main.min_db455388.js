var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},__awaiter=this&&this.__awaiter||function(t,e,i,r){return new(i||(i=Promise))(function(s,n){function o(t){try{a(r.next(t))}catch(e){n(e)}}function h(t){try{a(r["throw"](t))}catch(e){n(e)}}function a(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(o,h)}a((r=r.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function i(t){return function(e){return r([t,e])}}function r(i){if(s)throw new TypeError("Generator is already executing.");for(;a;)try{if(s=1,n&&(o=n[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(r){i=[6,r],n=0}finally{s=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var s,n,o,h,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return h={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h},BaseContainer=function(t){function e(){var e=t.call(this)||this;return e.stage?e.onAddToStage():e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(){this.stage.addEventListener(egret.Event.RESIZE,this.UpWindowData,this)},e.prototype.hiddenOut=function(t,e,i){void 0===t&&(t=.1),void 0===e&&(e=.1),void 0===i&&(i=1),egret.Tween.get(this,{onChangeObj:this}).wait(1e3*e).to({alpha:i},1e3*t)},e.prototype.DestroyOut=function(t,e){void 0===t&&(t=.1),void 0===e&&(e=.1),egret.Tween.get(this,{onChangeObj:this}).wait(1e3*e).to({alpha:0},1e3*t).call(this.Destroy,this,[])},e.prototype.Destroy=function(){this.parent&&(egret.Tween.removeTweens(this),this.parent.removeChild(this))},e}(egret.DisplayObjectContainer);__reflect(BaseContainer.prototype,"BaseContainer");var ImageBasisClass=function(t){function e(){var e=t.call(this)||this;return e.indexNums=new Array,e.initIndex=new Array,e.id=0,e.boo=!1,e.ox=0,e.oy=0,e.typeNumber=0,e}return __extends(e,t),e}(egret.DisplayObjectContainer);__reflect(ImageBasisClass.prototype,"ImageBasisClass");var TempLate=function(t){function e(){var e=t.call(this)||this;return e.initSprite(),e.UpWindowData(),e.initMessage(),e}return __extends(e,t),e.prototype.initSprite=function(){},e.prototype.UpWindowData=function(){},e.prototype.initMessage=function(){},e}(BaseContainer);__reflect(TempLate.prototype,"TempLate");var EventEnumerate=function(){function t(){}return t.ANIMATION_COMPLETE="animation_complete",t.SELECT_COMPLETE="select_complete",t.GAME_START="game_start",t.GAME_OVER="game_over",t.GAME_COMPLETE="game_complete",t.GAME_RESET="game_reset",t.GAME_SHARE="game_share",t}();__reflect(EventEnumerate.prototype,"EventEnumerate");var EventManage=function(t){function e(e,i){void 0===i&&(i=null);var r=t.call(this,e)||this;return r.data=i,r}return __extends(e,t),e}(egret.Event);__reflect(EventManage.prototype,"EventManage");var LayerGameClass=function(t){function e(){var e=t.call(this)||this;return e.initSprite(),e.UpWindowData(),e.initMessage(),e}return __extends(e,t),e.prototype.initSprite=function(){this.startPage=new StartGamePage,this.addChildAt(this.startPage,1)},e.prototype.UpWindowData=function(){},e.prototype.initMessage=function(){this.startPage.addEventListener(EventEnumerate.SELECT_COMPLETE,this.startPageComplete,this)},e.prototype.startPageComplete=function(t){this.startPage.DestroyOut(),this.gameLayout=new GameStageLayout,this.addChildAt(this.gameLayout,0)},e}(BaseContainer);__reflect(LayerGameClass.prototype,"LayerGameClass");var GameOperationArea=function(t){function e(){var e=t.call(this)||this;return e.currCheckpointNum=0,e.currCheckpointArr=[],e.currAnswerId=0,e.currAnswerPointArr=[],e.checkpointInit(),e}return __extends(e,t),e.prototype.checkpointInit=function(){var t;void 0!=DataBus.checkpointJsonDataObject?(t=DataBus.checkpointJsonDataObject,this.currCheckpointArr=t.checkpointJsonDataObject[this.currCheckpointNum].checkpointDataArr,this.currAnswerId=t.checkpointJsonDataObject[this.currCheckpointNum].answerId,this.currAnswerPointArr=t.checkpointJsonDataObject[this.currCheckpointNum].answerPointArr,this.initSprite(),this.UpWindowData(),this.initMessage()):console.log("无舞台数据配置信息")},e.prototype.initSprite=function(){this.width=Main.W,this.height=.85*Main.H,this.displaySp=new egret.Sprite,this.addChild(this.displaySp),this.unitArea=new UnitAreaClass,this.displaySp.addChild(this.unitArea),this.unitArea.getLayoutData(this.currCheckpointNum,this.currCheckpointArr,this.currAnswerId,this.currAnswerPointArr)},e.prototype.UpWindowData=function(){var t=0,e=0,i=0;e=Main.W/(1.2*this.displaySp.width),i=Main.H/(1.2*this.displaySp.height),t=i>e?e:i,this.displaySp.scaleX=this.displaySp.scaleY=t,this.displaySp.x=(this.width-this.displaySp.width*t)/2,this.displaySp.y=(this.height-this.displaySp.height*t)/2},e.prototype.setNextCheckpointData=function(){console.log("下一关");var t;void 0!=DataBus.checkpointJsonDataObject&&(t=DataBus.checkpointJsonDataObject,this.currCheckpointNum++,this.currCheckpointArr=t.checkpointJsonDataObject[this.currCheckpointNum].checkpointDataArr,this.currAnswerId=t.checkpointJsonDataObject[this.currCheckpointNum].answerId,this.currAnswerPointArr=t.checkpointJsonDataObject[this.currCheckpointNum].answerPointArr,this.unitArea.resetEvent(),this.unitArea=new UnitAreaClass,this.unitArea.alpha=0,this.displaySp.addChild(this.unitArea),this.unitArea.hiddenOut(.1,.2,1),this.unitArea.getLayoutData(this.currCheckpointNum,this.currCheckpointArr,this.currAnswerId,this.currAnswerPointArr))},e.prototype.initMessage=function(){},e}(BaseContainer);__reflect(GameOperationArea.prototype,"GameOperationArea");var GameStageLayout=function(t){function e(){var e=t.call(this)||this;return e._public=new PublicClass,e.checkpointInit(),e}return __extends(e,t),e.prototype.checkpointInit=function(){void 0==DataBus.checkpointJsonDataObject?(console.log("无.关卡配置信息->开始加载json"),this.urlloaderOnComplete(RES.getRes("checkpoint_json"))):(console.log("有.关卡配置信息"),this.checkpointData=DataBus.checkpointJsonDataObject)},e.prototype.urlloaderOnComplete=function(t){DataBus.checkpointJsonDataObject=t,this.initSprite(),this.UpWindowData(),this.initMessage()},e.prototype.initSprite=function(){this.displaySp=new egret.Sprite,this.addChild(this.displaySp),this.gameBg=this._public.createBitmapByName("img_start_bg"),this.displaySp.addChild(this.gameBg),this.playShow=new PlayDataShow,this.displaySp.addChild(this.playShow),this.operationArea=new GameOperationArea,this.displaySp.addChild(this.operationArea)},e.prototype.UpWindowData=function(){this.gameBg.x=this.gameBg.y=0,this.gameBg.width=Main.W,this.gameBg.height=Main.H;var t=0;t=Main.W/(2*this.playShow.width),this.playShow.scaleX=this.playShow.scaleY=t,this.playShow.x=(this.gameBg.width-this.playShow.width*t)/2,this.playShow.y=this.playShow.height/6,this.playShow.height=.1*Main.H,this.operationArea.y=this.playShow.height,this.operationArea.width=Main.W,this.operationArea.height=.85*Main.H},e.prototype.initMessage=function(){this.playShow.startTime(),this.playShow.addEventListener(EventEnumerate.SELECT_COMPLETE,this.playShowComplete,this)},e.prototype.playShowComplete=function(t){console.log(t.data),"nextCheckpoint"==t.data&&this.operationArea.setNextCheckpointData()},e.prototype.resetStageLayout=function(){},e}(BaseContainer);__reflect(GameStageLayout.prototype,"GameStageLayout");var UnitAreaClass=function(t){function e(){var e=t.call(this)||this;return e._public=new PublicClass,e.spriteArr=new Array,e.scopeX=0,e.longitudinalY=0,e.directionStr="",e._distance=new egret.Point,e.answerPoint=new egret.Point,e.speedTime=0,e.currAngle="",e.typeTwoImgIndex=0,e.typeThreeImgIndex=0,e.typeFourImgIndex=0,e.typeFiveImgIndex=0,e.typeSixImgIndex=0,e.oldX=0,e.oldY=0,e.newX=0,e.newY=0,e.prevX=0,e.prevY=0,e.topAround=0,e.lowAround=0,e.leftAround=0,e.rightAround=0,e.moveDirWH="",e.checkBoo=!1,e._touchStatus=!1,e.distanceSum=0,e.directionAround=0,e._stagePointArr=[],e._copyStagePointArr=[],e._answerPointArr=[],e._answerObjId=0,e}return __extends(e,t),e.prototype.getLayoutData=function(t,e,i,r){this._stagePointArr=e.slice(),this._answerObjId=i,this._answerPointArr=r,console.log("当前关卡数:"+t),console.log("当前关卡数据:"+this._stagePointArr),console.log("当前关卡正确id:"+this._answerObjId),console.log("当前关卡正确坐标:"+this._answerPointArr),this.initSprite(),this.UpWindowData(),this.initMessage()},e.prototype.initSprite=function(){this.displaySp=new egret.Sprite,this.addChild(this.displaySp);var t,e,i,r,s,n,o,h,a,u,c,p,d,g=0,l=!1,y=!1;for(s=[],n=[],o=[],h=[],a=[],u=[],c=[],p=[],d=[],this.scopeX=this._stagePointArr[0].length,this.longitudinalY=this._stagePointArr.length,this.speedTime=100,this.answerPoint.x=this._answerPointArr[0],this.answerPoint.y=this._answerPointArr[1],this.directionAround=40,this.typeTwoImgIndex=1,this.typeThreeImgIndex=1,this.typeFourImgIndex=1,this.typeFiveImgIndex=1,this.typeSixImgIndex=1,this.distanceSum=0,this.topAround=0,this.lowAround=0,this.leftAround=0,this.rightAround=0,this.moveDirWH="",this.checkBoo=!1,this._copyStagePointArr=[],this.touchEnabled=!0,this.touchChildren=!0,this._createLine=new CreateLine,this._createLine.createGridHander(this.scopeX+1,this.longitudinalY+1),this.displaySp.addChild(this._createLine),t=0;t<this._stagePointArr.length;t++)this._copyStagePointArr[t]=this._stagePointArr[t].slice();for(t=0;t<this._copyStagePointArr.length;t++)for(e=0;e<this._copyStagePointArr[t].length;e++){if(g=this._copyStagePointArr[t][e],0==g&&(this._typeZero=new TypeZero,this._typeZero.x=80*e,this._typeZero.y=80*t,this._typeZero.indexNums=[e,t],this._typeZero.initIndex=this._typeZero.indexNums,this._typeZero.touchEnabled=!1,this._typeZero.touchChildren=!1,this._typeZero.ox=this._typeZero.x,this._typeZero.oy=this._typeZero.y,this._typeZero.alpha=.01,this._typeZero.id=g,this.displaySp.addChild(this._typeZero),this.spriteArr.push(this._typeZero)),1==g&&(this._typeOne=new TypeOne,this._typeOne.x=80*e,this._typeOne.y=80*t,this._typeOne.id=1,this._typeOne.indexNums=[e,t],this._typeOne.initIndex=this._typeOne.indexNums.slice(),this._typeOne.touchEnabled=!0,this._typeOne.ox=this._typeOne.x,this._typeOne.oy=this._typeOne.y,this._typeOne.id=g,this.displaySp.addChild(this._typeOne),this._typeOne.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.currTypeDown,this)),2==g){for(i=0;i<n.length;i++)e!=n[i][0]||t!=n[i][1]||(l=!0);if(1==l){l=!1;continue}s=[],this._typeTwo=new TypeTwo(this.typeTwoImgIndex),this._typeTwo.x=80*e,this._typeTwo.y=80*t,this._typeTwo.id=2,this._typeTwo.indexNums=[[e,t],[e,t+1]],s=[e,t+1],this._typeTwo.initIndex=this._typeTwo.indexNums.slice(),this._typeTwo.touchEnabled=!0,this.typeTwoImgIndex+=1,this._typeTwo.ox=this._typeTwo.x,this._typeTwo.oy=this._typeTwo.y,this._typeTwo.id=g,n.push(s),this.displaySp.addChild(this._typeTwo),this.spriteArr.push(this._typeTwo),this._typeTwo.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.currTypeDown,this),l=!1}if(3==g){if(e==o[0]&&t==o[1])continue;this._typeThree=new TypeThree(this.typeThreeImgIndex),this._typeThree.x=80*e,this._typeThree.y=80*t,this._typeThree.id=3,this._typeThree.indexNums=[[e,t],[e+1,t]],o=[e+1,t],this._typeThree.initIndex=this._typeThree.indexNums.slice(),this._typeThree.touchEnabled=!0,this.typeThreeImgIndex+=1,this._typeThree.ox=this._typeThree.x,this._typeThree.oy=this._typeThree.y,this.spriteArr.push(this._typeThree),this._typeThree.id=g,this.displaySp.addChild(this._typeThree),this._typeThree.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.currTypeDown,this)}if(4==g){for(i=0;i<a.length;i++)for(r=0;3>r;r++)e!=a[i][r][0]||t!=a[i][r][1]||(l=!0);if(1==l){l=!1;continue}h=[],this._typeFour=new TypeFour(this.typeFourImgIndex),this._typeFour.x=80*e,this._typeFour.y=80*t,this._typeFour.indexNums=[[e,t],[e+1,t],[e,t+1],[e+1,t+1]],h=[[e+1,t],[e,t+1],[e+1,t+1]],this._typeFour.initIndex=this._typeFour.indexNums.slice(),this._typeFour.touchEnabled=!0,this._typeFour.typeNumber=this.typeFourImgIndex,this.typeFourImgIndex+=1,this._typeFour.ox=this._typeFour.x,this._typeFour.oy=this._typeFour.y,this._typeFour.id=g,this.displaySp.addChild(this._typeFour),this.spriteArr.push(this._typeFour),a.push(h),this._typeFour.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.currTypeDown,this),y=!0}if(5==g){for(i=0;i<c.length;i++)(e==c[i][0][0]&&t==c[i][0][1]||e==c[i][1][0]&&t==c[i][1][1])&&(l=!0);if(1==l){l=!1;continue}u=[],this._typeFive=new TypeFive(this.typeFiveImgIndex),this._typeFive.x=20+80*e,this._typeFive.y=15+80*t,this._typeFive.id=5,this._typeFive.indexNums=[[e,t],[e,t+1],[e,t+2]],u=[[e,t+1],[e,t+2]],this._typeFive.initIndex=this._typeFive.indexNums.slice(),this._typeFive.touchEnabled=!0,this.typeFiveImgIndex+=1,this._typeFive.ox=this._typeFive.x,this._typeFive.oy=this._typeFive.y,c.push(u),this._typeFive.id=g,this.displaySp.addChild(this._typeFive),this.spriteArr.push(this._typeFive),this._typeFive.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.currTypeDown,this),l=!1}if(6==g){for(i=0;i<d.length;i++)(e==d[i][0][0]&&t==d[i][0][1]||e==d[i][1][0]&&t==d[i][1][1])&&(l=!0);if(1==l){l=!1;continue}p=[],this._typeSix=new TypeSix(this.typeSixImgIndex),this._typeSix.x=20+80*e,this._typeSix.y=15+80*t,this._typeSix.id=6,this._typeSix.indexNums=[[e,t],[e+1,t],[e+2,t]],p=[[e+1,t],[e+2,t]],this._typeSix.initIndex=this._typeSix.indexNums.slice(),this._typeSix.touchEnabled=!0,this.typeSixImgIndex+=1,this._typeSix.ox=this._typeSix.x,this._typeSix.oy=this._typeSix.y,this._typeSix.id=g,d.push(p),this.displaySp.addChild(this._typeSix),this.spriteArr.push(this._typeSix),this._typeSix.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.currTypeDown,this),l=!1}}s=[],n=[],o=[],u=[],c=[],p=[],d=[]},e.prototype.UpWindowData=function(){},e.prototype.initMessage=function(){},e.prototype.currTypeDown=function(t){if(!this.returnBoo&&1!=this._touchStatus&&0==this._touchStatus){var e=t.currentTarget;this.currObj=e,this.oldX=t.stageX,this.oldY=t.stageY,this.prevX=e.x,this.prevY=e.y,this._distance.x=t.stageX-this.currObj.x,this._distance.y=t.stageY-this.currObj.y,this.checkBoo=!1,this._touchStatus=!0,this.checkAroundAllowLocation(),this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.currTypeMove,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.currTypeEnd,this)}},e.prototype.currTypeMove=function(t){this.returnBoo||1==this._touchStatus&&(0==this.checkBoo&&(this.newX=t.stageX,this.newY=t.stageY,this.currAngle=this.angle({x:this.oldX,y:this.oldY},{x:this.newX,y:this.newY}),this.distanceSum=this._public.twoPointDistance(this.oldX,this.oldY,this.newX,this.newY),this.distanceSum>=this.directionAround&&(this.checkBoo=!0)),"left"==this.currAngle||"right"==this.currAngle?this.moveDirWH="H":("top"==this.currAngle||"low"==this.currAngle)&&(this.moveDirWH="V"),"H"==this.moveDirWH?(0!=this.leftAround?this.currObj.x=t.stageX-this._distance.x:0!=this.rightAround&&(this.currObj.x=t.stageX-this._distance.x),this.currObj.x<=this.prevX-80*this.leftAround?this.currObj.x=this.prevX-80*this.leftAround:this.currObj.x>=this.prevX+80*this.rightAround&&(this.currObj.x=this.prevX+80*this.rightAround)):"V"==this.moveDirWH&&(0!=this.topAround?this.currObj.y=t.stageY-this._distance.y:0!=this.lowAround&&(this.currObj.y=t.stageY-this._distance.y),this.currObj.y<=this.prevY-80*this.topAround?this.currObj.y=this.prevY-80*this.topAround:this.currObj.y>=this.prevY+80*this.lowAround&&(this.currObj.y=this.prevY+80*this.lowAround)))},e.prototype.currTypeEnd=function(t){if(!this.returnBoo){var e,i=(t.currentTarget,0),r="",s="",n=0;if(this._touchStatus=!1,this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.currTypeMove,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.currTypeEnd,this),this.newX=t.stageX,this.newY=t.stageY,r=this.angle({x:this.oldX,y:this.oldY},{x:this.newX,y:this.newY}),this.distanceSum=this._public.twoPointDistance(this.prevX,this.prevY,this.currObj.x,this.currObj.y),n=Math.ceil(this.distanceSum),i=Math.round(n/80),console.log("移动倍数："+i),0==i)return void egret.Tween.get(this.currObj).to({x:this.prevX,y:this.prevY},this.speedTime).call(this.callReturnHander,this);switch("left"==r||"right"==r?s="H":("top"==r||"low"==r)&&(s="V"),r==this.currAngle?(console.log("两次方向判定一致"),this.currentTatgetMoveHander(r,i)):(console.log("两次方向判定不一致,并且鼠标有移出舞台行为"),s==this.moveDirWH?(console.log("type==1:   "+r),this.currentTatgetMoveHander(r,i),this.currAngle=r):(console.log("type==2"),this.currentTatgetMoveHander(this.currAngle,i))),this.currObj.id){case 1:for(e=1;i>=e;e++)this.judgeDirectionTypeOneHander();break;case 2:for(e=1;i>=e;e++)this.judgeDirectionTypeTwoHander();break;case 3:for(e=1;i>=e;e++)this.judgeDirectionTypeThreeHander();break;case 4:for(e=1;i>=e;e++)this.judgeDirectionTypeFourHander();if(this.currObj.indexNums[0].toString()==[this.answerPoint.x,this.answerPoint.y].toString())return this.currGameOverClick(),void console.log("over");break;case 5:for(e=1;i>=e;e++)this.judgeDirectionTypeFiveHander();break;case 6:for(e=1;i>=e;e++)this.judgeDirectionTypeSixHander()}console.log(this._copyStagePointArr)}},e.prototype.currentTatgetMoveHander=function(t,e){switch(t){case"top":egret.Tween.get(this.currObj).to({x:this.prevX,y:this.prevY-80*e},this.speedTime).call(this.callReturnHander,this);break;case"low":egret.Tween.get(this.currObj).to({x:this.prevX,y:this.prevY+80*e},this.speedTime).call(this.callReturnHander,this);break;case"left":egret.Tween.get(this.currObj).to({x:this.prevX-80*e,y:this.prevY},this.speedTime).call(this.callReturnHander,this);break;case"right":egret.Tween.get(this.currObj).to({x:this.prevX+80*e,y:this.prevY},this.speedTime).call(this.callReturnHander,this)}},e.prototype.judgeDirectionTypeOneHander=function(){var t,e,i=new Array,r=new Array,s=!1;i=[],r=[],t=this.currObj.indexNums[0],e=this.currObj.indexNums[1],this.directionStr="","top"==this.currAngle&&(this.directionStr="top",i=[t,e],r=[t,e-1],s=!0),"low"==this.currAngle&&(this.directionStr="low",i=[t,e],r=[t,e+1],s=!0),"left"==this.currAngle&&(this.directionStr="left",i=[t,e],r=[t-1,e],s=!0),"right"==this.currAngle&&(this.directionStr="right",i=[t,e],r=[t+1,e],s=!0),1==s&&(this._public.typeOneHander(this._copyStagePointArr,i,r),this.typeOneReasonFineHitObjHander(r),this.typeOneExchangeDataHander())},e.prototype.judgeDirectionTypeTwoHander=function(){var t,e,i,r,s=new Array,n=new Array,o=!1;s=[],n=[],t=this.currObj.indexNums[0][0],e=this.currObj.indexNums[0][1],i=this.currObj.indexNums[1][0],r=this.currObj.indexNums[1][1],this.directionStr="","top"==this.currAngle&&(this.directionStr="top",s=[[t,e],[t,e+1]],n=[t,e-1],o=!0),"low"==this.currAngle&&(this.directionStr="low",s=[[i,r-1],[i,r]],n=[i,r+1],o=!0),"left"==this.currAngle&&(this.directionStr="left",s=[[t,e],[i,r]],n=[[t-1,e],[i-1,r]],o=!0),"right"==this.currAngle&&(this.directionStr="right",s=[[t,e],[i,r]],n=[[t+1,e],[i+1,r]],o=!0),1==o&&(this._public.typeTwoHander(this._copyStagePointArr,s,n,this.directionStr),this.typeTwoReasonFineHitObjHander(n,this.directionStr))},e.prototype.judgeDirectionTypeThreeHander=function(){var t,e,i,r,s=new Array,n=new Array,o=!1;s=[],n=[],t=this.currObj.indexNums[0][0],e=this.currObj.indexNums[0][1],i=this.currObj.indexNums[1][0],r=this.currObj.indexNums[1][1],"top"==this.currAngle?(o=!0,s=[[t,r],[t+1,e]],n=[[t,e-1],[t+1,e-1]]):"low"==this.currAngle?(o=!0,s=[[t,e],[t+1,e]],n=[[t,e+1],[i,r+1]]):"left"==this.currAngle?(o=!0,s=[[t,e],[i,r]],n=[t-1,e]):"right"==this.currAngle&&(o=!0,s=[[t,e],[i,r]],n=[i+1,r]),1==o&&(this._public.typeThreeHander(this._copyStagePointArr,s,n,this.currAngle),this.typeThreeReasonFineHitObjHander(n,this.currAngle))},e.prototype.judgeDirectionTypeFourHander=function(){var t,e,i,r,s,n,o,h,a=new Array,u=new Array,c=!1;a=[],u=[],t=this.currObj.indexNums[0][0],e=this.currObj.indexNums[0][1],i=this.currObj.indexNums[1][0],r=this.currObj.indexNums[1][1],s=this.currObj.indexNums[2][0],n=this.currObj.indexNums[2][1],o=this.currObj.indexNums[3][0],h=this.currObj.indexNums[3][1],this.directionStr="","low"==this.currAngle&&(this.directionStr="low",a=[[t,e],[i,r],[s,n],[o,h]],u=[[s,n+1],[o,h+1]],c=!0),"top"==this.currAngle&&(this.directionStr="top",a=[[t,e],[i,r],[s,n],[o,h]],u=[[t,e-1],[i,r-1]],c=!0),"left"==this.currAngle&&(this.directionStr="left",a=[[t,e],[i,r],[s,n],[o,h]],u=[[t-1,e],[s-1,n]],c=!0),"right"==this.currAngle&&(this.directionStr="right",a=[[t,e],[i,r],[s,n],[o,h]],u=[[i+1,r],[o+1,h]],c=!0),1==c&&(this._public.typeFourHander(this._copyStagePointArr,a,u,this.directionStr),this.typeFourReasonFineHitObjHander(u,this.directionStr))},e.prototype.judgeDirectionTypeFiveHander=function(){var t,e,i,r,s,n,o=new Array,h=new Array,a=new Array,u=!1;o=[],h=[],a=[],t=this.currObj.indexNums[0][0],e=this.currObj.indexNums[0][1],i=this.currObj.indexNums[1][0],r=this.currObj.indexNums[1][1],s=this.currObj.indexNums[2][0],n=this.currObj.indexNums[2][1],this.directionStr="","top"==this.currAngle?(o=[[t,e],[t,e+1],[t,e+2]],h=[t,e-1],u=!0):"low"==this.currAngle?(o=[[i,r-1],[i,r],[i,r+1]],h=[i,r+2],u=!0):"left"==this.currAngle?u=!0:"right"==this.currAngle&&(u=!0),1==u&&(this._public.typeFiveHander(this._copyStagePointArr,o,h,this.currAngle),this.typeFiveReasonFiveHitObjHander(h,this.currAngle))},e.prototype.judgeDirectionTypeSixHander=function(){var t,e,i,r,s,n,o=new Array,h=new Array,a=new Array,u=!1;o=[],h=[],a=[],t=this.currObj.indexNums[0][0],e=this.currObj.indexNums[0][1],i=this.currObj.indexNums[1][0],r=this.currObj.indexNums[1][1],s=this.currObj.indexNums[2][0],n=this.currObj.indexNums[2][1],this.directionStr="","top"==this.currAngle?(u=!0,o=[[t,e],[i,r],[s,n]],h=[[t,e-1],[i,r-1],[s,n-1]],console.log(o),console.log(h)):"low"==this.currAngle?(u=!0,o=[[t,e],[i,r],[s,n]],h=[[t,e+1],[i,r+1],[s,n+1]],console.log(o),console.log(h)):"left"==this.currAngle?(o=[[t,e],[i,r],[s,n]],h=[t-1,e],u=!0):"right"==this.currAngle&&(o=[[t,e],[i,r],[s,n]],h=[s+1,n],u=!0),1==u&&(this._public.typeSixeHander(this._copyStagePointArr,o,h,this.currAngle),this.typeSixReasonSixHitObjHander(h,this.currAngle))},e.prototype.typeOneReasonFineHitObjHander=function(t){var e,i,r,s,n=!1;for(e=0;e<this.spriteArr.length;e++){for(r=this.spriteArr[e].indexNums,s=this.spriteArr[e],n=!0,i=0;i<r.length;i++)if(t[i]!=r[i]){n=!1;break}1==n&&(this.hitObj=s)}},e.prototype.typeOneExchangeDataHander=function(){var t;this.returnBoo=!0,t=this.currObj.indexNums,this.currObj.indexNums=this.hitObj.indexNums,this.hitObj.indexNums=t},e.prototype.typeTwoReasonFineHitObjHander=function(t,e){var i,r,s,n,o,h,a,u,c,p=!1,d=0,g=new Array;if("top"==e||"low"==e)for(i=0;i<this.spriteArr.length;i++){for(n=this.spriteArr[i].indexNums,o=this.spriteArr[i],p=!0,r=0;r<n.length;r++)if(t[r]!=n[r]){p=!1;break}1==p&&(this.hitObj=o)}if("left"==e||"right"==e)for(s=0;2>s;s++)for(g=t[d],i=0;i<this.spriteArr.length;i++){for(n=this.spriteArr[i].indexNums,o=this.spriteArr[i],p=!0,r=0;r<n.length;r++)if(g[r]!=n[r]){p=!1;break}1==p&&(0==d&&(this.hitObjA=o,d+=1),1==d&&(this.hitObjB=o))}switch(e){case"top":this.returnBoo=!0,h=this.currObj.indexNums[0],a=this.currObj.indexNums[1],u=this.hitObj.indexNums,this.currObj.indexNums[0]=u,this.currObj.indexNums[1]=h,this.hitObj.indexNums=a;break;case"low":this.returnBoo=!0,h=this.currObj.indexNums[0],a=this.currObj.indexNums[1],u=this.hitObj.indexNums,this.currObj.indexNums[1]=u,this.currObj.indexNums[0]=a,this.hitObj.indexNums=h;break;case"left":this.returnBoo=!0,h=this.currObj.indexNums[0],a=this.currObj.indexNums[1],u=this.hitObjA.indexNums,c=this.hitObjB.indexNums,this.currObj.indexNums[0]=u,this.currObj.indexNums[1]=c,this.hitObjA.indexNums=h,this.hitObjB.indexNums=a;break;case"right":this.returnBoo=!0,h=this.currObj.indexNums[0],a=this.currObj.indexNums[1],u=this.hitObjA.indexNums,c=this.hitObjB.indexNums,this.currObj.indexNums[0]=u,this.currObj.indexNums[1]=c,this.hitObjA.indexNums=h,this.hitObjB.indexNums=a}},e.prototype.typeThreeReasonFineHitObjHander=function(t,e){var i,r,s,n,o,h,a,u,c,p=!1,d=0,g=new Array;if("left"==e||"right"==e)for(i=0;i<this.spriteArr.length;i++){for(n=this.spriteArr[i].indexNums,o=this.spriteArr[i],p=!0,r=0;r<n.length;r++)if(t[r]!=n[r]){p=!1;break}1==p&&(this.hitObj=o)}if("top"==e||"low"==e)for(s=0;2>s;s++)for(g=t[d],i=0;i<this.spriteArr.length;i++){for(n=this.spriteArr[i].indexNums,o=this.spriteArr[i],p=!0,r=0;r<n.length;r++)if(g[r]!=n[r]){p=!1;break}1==p&&(0==d&&(this.hitObjA=o,d+=1),1==d&&(this.hitObjB=o))}switch(e){case"top":this.returnBoo=!0,h=this.currObj.indexNums[0],a=this.currObj.indexNums[1],u=this.hitObjA.indexNums,c=this.hitObjB.indexNums,this.currObj.indexNums[0]=u,this.currObj.indexNums[1]=c,this.hitObjA.indexNums=h,this.hitObjB.indexNums=a;break;case"low":this.returnBoo=!0,h=this.currObj.indexNums[0],a=this.currObj.indexNums[1],u=this.hitObjA.indexNums,c=this.hitObjB.indexNums,this.currObj.indexNums[0]=u,this.currObj.indexNums[1]=c,this.hitObjA.indexNums=h,this.hitObjB.indexNums=a;break;case"left":this.returnBoo=!0,h=this.currObj.indexNums[0],a=this.currObj.indexNums[1],u=this.hitObj.indexNums,this.currObj.indexNums[0]=u,this.currObj.indexNums[1]=h,this.hitObj.indexNums=a;break;case"right":this.returnBoo=!0,h=this.currObj.indexNums[0],a=this.currObj.indexNums[1],u=this.hitObj.indexNums,this.currObj.indexNums[0]=a,this.currObj.indexNums[1]=u,this.hitObj.indexNums=h}},e.prototype.typeFourReasonFineHitObjHander=function(t,e){var i,r,s,n,o,h,a,u,c,p,d,g=!1,l=0,y=new Array;for(s=0;2>s;s++)for(y=t[l],i=0;i<this.spriteArr.length;i++){for(n=this.spriteArr[i].indexNums,o=this.spriteArr[i],g=!0,r=0;r<n.length;r++)if(y[r]!=n[r]){g=!1;break}1==g&&(0==l&&(this.hitObjA=o,l+=1),1==l&&(this.hitObjB=o))}switch(e){case"top":this.returnBoo=!0,h=this.currObj.indexNums[0],a=this.currObj.indexNums[1],u=this.currObj.indexNums[2],c=this.currObj.indexNums[3],p=this.hitObjA.indexNums,d=this.hitObjB.indexNums,this.currObj.indexNums[0]=p,this.currObj.indexNums[1]=d,this.currObj.indexNums[2]=h,this.currObj.indexNums[3]=a,this.hitObjA.indexNums=u,this.hitObjB.indexNums=c;break;case"low":this.returnBoo=!0,h=this.currObj.indexNums[0],a=this.currObj.indexNums[1],u=this.currObj.indexNums[2],c=this.currObj.indexNums[3],p=this.hitObjA.indexNums,d=this.hitObjB.indexNums,this.currObj.indexNums[0]=u,this.currObj.indexNums[1]=c,this.currObj.indexNums[2]=p,this.currObj.indexNums[3]=d,this.hitObjA.indexNums=h,this.hitObjB.indexNums=a;break;case"left":this.returnBoo=!0,h=this.currObj.indexNums[0],a=this.currObj.indexNums[1],u=this.currObj.indexNums[2],c=this.currObj.indexNums[3],p=this.hitObjA.indexNums,d=this.hitObjB.indexNums,this.currObj.indexNums[0]=p,this.currObj.indexNums[1]=h,this.currObj.indexNums[2]=d,this.currObj.indexNums[3]=u,this.hitObjA.indexNums=a,this.hitObjB.indexNums=c;break;case"right":this.returnBoo=!0,h=this.currObj.indexNums[0],a=this.currObj.indexNums[1],u=this.currObj.indexNums[2],c=this.currObj.indexNums[3],p=this.hitObjA.indexNums,d=this.hitObjB.indexNums,this.currObj.indexNums[0]=a,this.currObj.indexNums[1]=p,this.currObj.indexNums[2]=c,this.currObj.indexNums[3]=d,this.hitObjA.indexNums=h,this.hitObjB.indexNums=u}},e.prototype.typeFiveReasonFiveHitObjHander=function(t,e){var i,r,s,n,o,h,a,u,c=!1;new Array;if("top"==e||"low"==e)for(i=0;i<this.spriteArr.length;i++){for(s=this.spriteArr[i].indexNums,n=this.spriteArr[i],c=!0,r=0;r<s.length;r++)if(t[r]!=s[r]){c=!1;break}1==c&&(this.hitObj=n)}switch(e){case"top":this.returnBoo=!0,o=this.currObj.indexNums[0],h=this.currObj.indexNums[1],a=this.currObj.indexNums[2],u=this.hitObj.indexNums,this.currObj.indexNums[0]=u,this.currObj.indexNums[1]=o,this.currObj.indexNums[2]=h,this.hitObj.indexNums=a;break;case"low":this.returnBoo=!0,o=this.currObj.indexNums[0],h=this.currObj.indexNums[1],a=this.currObj.indexNums[2],u=this.hitObj.indexNums,this.currObj.indexNums[0]=h,this.currObj.indexNums[1]=a,this.currObj.indexNums[2]=u,this.hitObj.indexNums=o}},e.prototype.typeSixReasonSixHitObjHander=function(t,e){var i,r,s,n,o,h,a,u,c,p,d=!1;new Array;if("left"==e||"right"==e)for(i=0;i<this.spriteArr.length;i++){for(s=this.spriteArr[i].indexNums,n=this.spriteArr[i],d=!0,r=0;r<s.length;r++)if(t[r]!=s[r]){d=!1;break}1==d&&(this.hitObj=n)}switch(e){case"left":o=this.currObj.x,h=this.currObj.y,egret.Tween.get(this.currObj).to({x:this.hitObj.x,y:this.hitObj.y},this.speedTime).call(this.callReturnHander,this),this.returnBoo=!0,this.hitObj.x=o+160,this.hitObj.y=h,a=this.currObj.indexNums[0],u=this.currObj.indexNums[1],c=this.currObj.indexNums[2],p=this.hitObj.indexNums,this.currObj.indexNums[0]=p,this.currObj.indexNums[1]=a,this.currObj.indexNums[2]=u,this.hitObj.indexNums=c;break;case"right":o=this.currObj.x,h=this.currObj.y,egret.Tween.get(this.currObj).to({x:this.hitObj.x-160,y:this.hitObj.y},this.speedTime).call(this.callReturnHander,this),this.returnBoo=!0,this.hitObj.x=o,this.hitObj.y=h,a=this.currObj.indexNums[0],u=this.currObj.indexNums[1],c=this.currObj.indexNums[2],p=this.hitObj.indexNums,this.currObj.indexNums[0]=u,this.currObj.indexNums[1]=c,this.currObj.indexNums[2]=p,this.hitObj.indexNums=a}},e.prototype.callReturnHander=function(){this.returnBoo=!1},e.prototype.angle=function(t,e){var i=Math.atan2(e.y-t.y,e.x-t.x),r=i*(180/Math.PI),s="";return r>-135&&-45>r?s="top":r>=-45&&45>=r?s="right":r>45&&135>=r?s="low":(-135>=r&&r>=-180||r>135&&180>=r)&&(s="left"),s},e.prototype.currGameOverClick=function(){egret.Tween.get(this.currObj).to({x:this.currObj.x,y:this.currObj.y+this.currObj.height,alpha:0},600);var t,e;for(t=0;t<this.spriteArr.length;t++)e=this.spriteArr[t],e.touchEnabled=!1},e.prototype.restBtnClick=function(t){this.resetEvent()},e.prototype.resetEvent=function(){this.DestroyOut()},e.prototype.checkCurrTatgetAround=function(t){var e,i,r=[],s=0,n=0,o=0,h=0;if(1==t){for(s=0,n=0,o=0,h=0,e=this.currObj.indexNums[0],i=this.currObj.indexNums[1];i-1>=0&&0==this._copyStagePointArr[i-1][e];)i-=1,s++;for(e=this.currObj.indexNums[0],i=this.currObj.indexNums[1];i+1!=this.longitudinalY&&0==this._copyStagePointArr[i+1][e];)i+=1,n++;for(e=this.currObj.indexNums[0],i=this.currObj.indexNums[1];e>=0&&0==this._copyStagePointArr[i][e-1];)e-=1,o++;for(e=this.currObj.indexNums[0],i=this.currObj.indexNums[1];e!=this.scopeX&&0==this._copyStagePointArr[i][e+1];)e+=1,h++;return r.push(s,n,o,h),r}if(2==t){for(s=0,n=0,o=0,h=0,e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];i-1>=0&&0==this._copyStagePointArr[i-1][e];)i-=1,s++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[1][1];i+1!=this.longitudinalY&&0==this._copyStagePointArr[i+1][e];)i+=1,n++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];e>=0&&0==this._copyStagePointArr[i][e-1]&&0==this._copyStagePointArr[i+1][e-1];)e-=1,o++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];e!=this.scopeX&&0==this._copyStagePointArr[i][e+1]&&0==this._copyStagePointArr[i+1][e+1];)e+=1,h++;return r.push(s,n,o,h),r}if(3==t){for(s=0,n=0,o=0,h=0,r=[],e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];i-1>=0&&0==this._copyStagePointArr[i-1][e]&&0==this._copyStagePointArr[i-1][e+1];)i-=1,s++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];i+1!=this.longitudinalY&&0==this._copyStagePointArr[i+1][e]&&0==this._copyStagePointArr[i+1][e+1];)i+=1,n++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];e>=0&&0==this._copyStagePointArr[i][e-1];)e-=1,o++;for(e=this.currObj.indexNums[1][0],i=this.currObj.indexNums[1][1];e!=this.scopeX&&0==this._copyStagePointArr[i][e+1];)e+=1,h++;
return r.push(s,n,o,h),r}if(4==t){for(s=0,n=0,o=0,h=0,r=[],e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];i-1>=0&&0==this._copyStagePointArr[i-1][e]&&0==this._copyStagePointArr[i-1][e+1];)i-=1,s++;for(e=this.currObj.indexNums[2][0],i=this.currObj.indexNums[2][1];i+1!=this.longitudinalY&&0==this._copyStagePointArr[i+1][e]&&0==this._copyStagePointArr[i+1][e+1];)i+=1,n++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];e>=0&&0==this._copyStagePointArr[i][e-1]&&0==this._copyStagePointArr[i+1][e-1];)e-=1,o++;for(e=this.currObj.indexNums[1][0],i=this.currObj.indexNums[1][1];e!=this.scopeX&&0==this._copyStagePointArr[i][e+1]&&0==this._copyStagePointArr[i+1][e+1];)e+=1,h++;return r.push(s,n,o,h),r}if(5==t){for(s=0,n=0,o=0,h=0,e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];i-1>=0&&0==this._copyStagePointArr[i-1][e];)i-=1,s++;for(e=this.currObj.indexNums[2][0],i=this.currObj.indexNums[2][1];i+1!=this.longitudinalY&&0==this._copyStagePointArr[i+1][e];)i+=1,n++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];e>=0&&0==this._copyStagePointArr[i][e-1]&&0==this._copyStagePointArr[i+1][e-1]&&0==this._copyStagePointArr[i+2][e-1];)e-=1,o++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];e!=this.scopeX&&0==this._copyStagePointArr[i][e+1]&&0==this._copyStagePointArr[i+1][e+1]&&0==this._copyStagePointArr[i+2][e+1];)e+=1,h++;return r.push(s,n,o,h),r}if(6==t){for(s=0,n=0,o=0,h=0,r=[],e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];i-1>=0&&0==this._copyStagePointArr[i-1][e]&&0==this._copyStagePointArr[i-1][e+1]&&0==this._copyStagePointArr[i-1][e+2];)i-=1,s++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];i+1!=this.longitudinalY&&0==this._copyStagePointArr[i+1][e]&&0==this._copyStagePointArr[i+1][e+1]&&0==this._copyStagePointArr[i+1][e+2];)i+=1,n++;for(e=this.currObj.indexNums[0][0],i=this.currObj.indexNums[0][1];e>=0&&0==this._copyStagePointArr[i][e-1];)e-=1,o++;for(e=this.currObj.indexNums[2][0],i=this.currObj.indexNums[2][1];e!=this.scopeX&&0==this._copyStagePointArr[i][e+1];)e+=1,h++;return r.push(s,n,o,h),r}},e.prototype.checkAroundAllowLocation=function(){var t=[];t=this.checkCurrTatgetAround(this.currObj.id),this.topAround=t[0],this.lowAround=t[1],this.leftAround=t[2],this.rightAround=t[3],console.log("top:"+this.topAround+"   low:"+this.lowAround+"   left:"+this.leftAround+"   right:"+this.rightAround)},e}(BaseContainer);__reflect(UnitAreaClass.prototype,"UnitAreaClass");var PlayDataShow=function(t){function e(){var e=t.call(this)||this;return e._public=new PublicClass,e.timeNum=0,e.mapNum=0,e.currCheckpointNum=1,e.totalCheckpointNum=10,e.initSprite(),e.UpWindowData(),e.initMessage(),e}return __extends(e,t),e.prototype.initSprite=function(){this.displaySp=new egret.Sprite,this.addChild(this.displaySp),this.timeImg=this._public.createBitmapByName("img_game_time"),this.displaySp.addChild(this.timeImg),this.timeText=this._public.createTextByName(this.timeNum.toString()+" 秒",90),this.displaySp.addChild(this.timeText),this.mapImg=this._public.createBitmapByName("img_game_map"),this.displaySp.addChild(this.mapImg),this.mapText=this._public.createTextByName(this.mapNum.toString()+" 步",90),this.displaySp.addChild(this.mapText),this.currCheckpointText=this._public.createTextByName(this.currCheckpointNum.toString()+"/"+this.totalCheckpointNum.toString(),90),this.displaySp.addChild(this.currCheckpointText),this.nextImg=this._public.createBitmapByName("img_game_win"),this.displaySp.addChild(this.nextImg),this.timer=new egret.Timer(1e3,0)},e.prototype.UpWindowData=function(){this.timeImg.x=0,this.timeImg.y=0,this.timeText.x=this.timeImg.x+1.3*this.timeImg.width,this.timeText.y=this.timeImg.y+this.timeImg.height/2-this.timeText.height/2,this.mapImg.x=this.timeText.x+2*this.mapImg.width,this.mapImg.y=this.timeImg.y,this.mapText.x=this.mapImg.x+1.3*this.mapImg.width,this.mapText.y=this.mapImg.y+this.mapImg.height/2-this.mapText.height/2,this.currCheckpointText.x=this.mapText.x+2*this.mapText.width,this.currCheckpointText.y=this.mapText.y+this.mapText.height/2-this.currCheckpointText.height/2,this.nextImg.x=this.currCheckpointText.x+2*this.currCheckpointText.width,this.nextImg.y=this.currCheckpointText.y},e.prototype.initMessage=function(){this.timer.addEventListener(egret.TimerEvent.TIMER,this.timerFunc,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.timerComFunc,this),this.nextImg.touchEnabled=!0,this.nextImg.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.nextImgTouch,this)},e.prototype.nextImgTouch=function(t){this.dispatchEvent(new EventManage(EventEnumerate.SELECT_COMPLETE,"nextCheckpoint"))},e.prototype.timerFunc=function(){this.timeNum++,this.timeText.text=this.timeNum.toString()+" 秒",DataBus.timeConsuming=this.timeNum},e.prototype.timerComFunc=function(){console.log("计时结束")},e.prototype.startTime=function(){this.timer.start()},e.prototype.stopTime=function(){this.timer.stop()},e}(BaseContainer);__reflect(PlayDataShow.prototype,"PlayDataShow");var Main=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){var i=this;egret.lifecycle.addLifecycleListener(function(t){e.os=egret.Capabilities.os,e.runtimeType=egret.Capabilities.runtimeType,egret.Ticker.getInstance().register(function(t){dragonBones.WorldClock.clock.advanceTime(t/1e3)},i),i.onWindowStatus(),i.stage.addEventListener(egret.Event.RESIZE,i.onWindowStatus,i),t.onUpdate=function(){}}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()},this.runGame()["catch"](function(t){console.log(t)})},e.prototype.onWindowStatus=function(){e.W=this.stage.stageWidth,e.H=this.stage.stageHeight;var t=e.W/750,i=e.H/1334;e.scaleNum=Math.min(t,i)},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/"),[2]})})},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("loadingAssets")},e.prototype.onResourceLoadComplete=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return"preload"!=t.groupName?[3,2]:(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),[4,platform.login()]);case 1:return e.sent(),this.loadingView.DestroyOut(.1),this.initGameScene(),[3,3];case 2:"loadingAssets"==t.groupName&&(this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.loadGroup("preload")),e.label=3;case 3:return[2]}})})},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingView.onProgress(t.itemsLoaded,t.itemsTotal)},e.prototype.initGameScene=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.createGameScene(),[2]})})},e.prototype.createGameScene=function(){this.feedbackBounced=new LoadFeedbackClass,this.addChildAt(this.feedbackBounced,1),this.webServer=WebServerData.getInstance(),this._gameContent=new LayerGameClass,this.addChildAt(this._gameContent,0)},e.os="",e.runtimeType="",e.scaleNum=1,e.W=750,e.H=1334,e.titleBarHeight=0,e.bitmapText=null,e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var TypeFive=function(t){function e(e,i){void 0===i&&(i="tra");var r=t.call(this)||this;return r.countIndex=0,r.imgType="",r.countIndex=e,r.imgType=i,r.init_Sprite(),r.upPosition(),r.initEvent(),r}return __extends(e,t),e.prototype.init_Sprite=function(){this.img_content=new egret.Bitmap,this.img_content.width=80,this.img_content.height=240,this.img_content.texture=RES.getRes("img_"+this.imgType+"_five_"+this.countIndex+"_png"),this.addChild(this.img_content)},e.prototype.upPosition=function(){},e.prototype.initEvent=function(){},e.prototype.resetEvent=function(){},e}(ImageBasisClass);__reflect(TypeFive.prototype,"TypeFive");var TypeFour=function(t){function e(e,i){void 0===i&&(i="tra");var r=t.call(this)||this;return r.countIndex=0,r.imgType="",r.countIndex=e,r.imgType=i,r.init_Sprite(),r.upPosition(),r.initEvent(),r}return __extends(e,t),e.prototype.init_Sprite=function(){this.img_content=new egret.Bitmap,this.img_content.width=160,this.img_content.height=160,this.img_content.texture=RES.getRes("img_"+this.imgType+"_four_"+this.countIndex+"_png"),this.addChild(this.img_content)},e.prototype.upPosition=function(){},e.prototype.initEvent=function(){},e.prototype.resetEvent=function(){},e}(ImageBasisClass);__reflect(TypeFour.prototype,"TypeFour");var TypeOne=function(t){function e(e){void 0===e&&(e="tra");var i=t.call(this)||this;return i.imgType="",i.imgType=e,i.init_Sprite(),i.upPosition(),i.initEvent(),i}return __extends(e,t),e.prototype.init_Sprite=function(){this.img_content=new egret.Bitmap,this.img_content.width=80,this.img_content.height=80,this.img_content.texture=RES.getRes("img_"+this.imgType+"_one_png"),this.addChild(this.img_content)},e.prototype.upPosition=function(){},e.prototype.initEvent=function(){},e.prototype.resetEvent=function(){},e}(ImageBasisClass);__reflect(TypeOne.prototype,"TypeOne");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var TypeThree=function(t){function e(e,i){void 0===i&&(i="tra");var r=t.call(this)||this;return r.countIndex=0,r.imgType="",r.inedx=0,r.id=0,r.boo=!1,r.ox=0,r.oy=0,r.countIndex=e,r.imgType=i,r.init_Sprite(),r.upPosition(),r.initEvent(),r}return __extends(e,t),e.prototype.init_Sprite=function(){this.img_content=new egret.Bitmap,this.img_content.width=160,this.img_content.height=80,this.img_content.texture=RES.getRes("img_"+this.imgType+"_three_"+this.countIndex+"_png"),this.addChild(this.img_content)},e.prototype.upPosition=function(){},e.prototype.initEvent=function(){},e.prototype.resetEvent=function(){},e}(ImageBasisClass);__reflect(TypeThree.prototype,"TypeThree");var TypeTwo=function(t){function e(e,i){void 0===i&&(i="tra");var r=t.call(this)||this;return r.countIndex=0,r.imgType="",r.countIndex=e,r.imgType=i,r.init_Sprite(),r.upPosition(),r.initEvent(),r}return __extends(e,t),e.prototype.init_Sprite=function(){this.img_content=new egret.Bitmap,this.img_content.width=80,this.img_content.height=160,this.img_content.texture=RES.getRes("img_"+this.imgType+"_two_"+this.countIndex+"_png"),this.addChild(this.img_content)},e.prototype.upPosition=function(){},e.prototype.initEvent=function(){},e.prototype.resetEvent=function(){},e}(ImageBasisClass);__reflect(TypeTwo.prototype,"TypeTwo");var TypeZero=function(t){function e(e){void 0===e&&(e="tra");var i=t.call(this)||this;return i.imgType="",i.imgType=e,i.init_Sprite(),i.upPosition(),i.initEvent(),i}return __extends(e,t),e.prototype.init_Sprite=function(){this.img_content=new egret.Bitmap,this.img_content.width=80,this.img_content.height=80,this.img_content.texture=RES.getRes("img_"+this.imgType+"_zero_png"),this.addChild(this.img_content)},e.prototype.upPosition=function(){},e.prototype.initEvent=function(){},e.prototype.resetEvent=function(){},e}(ImageBasisClass);__reflect(TypeZero.prototype,"TypeZero");var LoadingUI=function(t){function e(e){void 0===e&&(e=1449776);var i=t.call(this)||this;return i._bgColor=e,i.initBg(),i.initSprite(),i.initData(),i}return __extends(e,t),e.prototype.initBg=function(){this._bgImg=new egret.Sprite,this._bgImg.graphics.beginFill(this._bgColor),this._bgImg.graphics.drawRect(0,0,Main.W,Main.H),this.addChild(this._bgImg)},e.prototype.initSprite=function(){this._barBg=new egret.Bitmap,this._barBg.texture=RES.getRes("Img_bar_bg"),this.addChild(this._barBg),this._barImg=new egret.Bitmap,this._barImg.texture=RES.getRes("Img_bar"),this.addChild(this._barImg),this._barShade=new egret.Bitmap,this._barShade.texture=RES.getRes("bar_texture_Bmp"),this.addChild(this._barShade),this._loadingImg=new egret.Bitmap,this._loadingImg.texture=RES.getRes("loadTxtImg"),this.addChild(this._loadingImg)},e.prototype.initData=function(){this._barBg.scale9Grid=new egret.Rectangle(24,19,70,2),this._barBg.width=this._bgImg.width/10*8,this._barBg.x=(this._bgImg.width-this._barBg.width)/2,this._barBg.y=(this._bgImg.height-this._barBg.height)/2,this._barImg.scale9Grid=new egret.Rectangle(17,11,68,2),this._barImg.width=50,this._barImg.x=this._barBg.x+10,this._barImg.y=this._barBg.y+7,this._barShade.fillMode=egret.BitmapFillMode.REPEAT,this._barShade.width=10,this._barShade.height=20,this._barShade.x=this._barBg.x+20,this._barShade.y=this._barBg.y+10;this._loadingImg.width;this._loadingImg.anchorOffsetX=this._loadingImg.width/2,this._loadingImg.scaleX=this._loadingImg.scaleY=Main.scaleNum,this._loadingImg.x=this._barBg.x+this._barBg.width/2,this._loadingImg.y=this._barBg.y+50,this._barShade.width=0},e.prototype.DestroyOut=function(t,e){void 0===t&&(t=.1),void 0===e&&(e=.1),egret.Tween.get(this,{onChangeObj:this}).wait(1e3*e).to({alpha:0},1e3*t).call(this.Destroy,this,[])},e.prototype.Destroy=function(){this.parent&&(egret.Tween.removeTweens(this),this.parent.removeChild(this))},e.prototype.onProgress=function(t,e){var i=Math.floor(t*(this._barBg.width-18)/e);this._barImg.width=i,this._barShade.width=i-20},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var StartGamePage=function(t){function e(){var e=t.call(this)||this;return e._public=new PublicClass,e.initSprite(),e.UpWindowData(),e.initMessage(),e}return __extends(e,t),e.prototype.initSprite=function(){this.displaySp=new egret.Sprite,this.addChild(this.displaySp),this.bg=this._public.createBitmapByName("img_start_bg"),this.displaySp.addChild(this.bg),this.sky=this._public.createBitmapByName("img_start_sky"),this.displaySp.addChild(this.sky),this.ground=this._public.createBitmapByName("img_start_ground"),this.displaySp.addChild(this.ground),this.stone=this._public.createBitmapByName("img_start_stone"),this.displaySp.addChild(this.stone),this.cao=this._public.createBitmapByName("img_start_cao"),this.displaySp.addChild(this.cao),this.guan=this._public.createBitmapByName("img_start_guan"),this.displaySp.addChild(this.guan),this.vsbg=this._public.createBitmapByName("img_start_vsBg"),this.displaySp.addChild(this.vsbg),this.vs=this._public.createBitmapByName("img_start_vs"),this.displaySp.addChild(this.vs),this.startBtn=this._public.createBitmapByName("img_start_startBtn"),this.displaySp.addChild(this.startBtn),this.rankBtn=this._public.createBitmapByName("img_start_rankBtn"),this.displaySp.addChild(this.rankBtn),this.gameInstruc=this._public.createBitmapByName("img_start_gameInstructions"),this.displaySp.addChild(this.gameInstruc)},e.prototype.UpWindowData=function(){this.bg.x=this.bg.y=0,this.bg.width=Main.W,this.bg.height=Main.H,this.sky.width=this.bg.width,this.sky.x=(this.bg.width-this.sky.width)/2,this.sky.y=(this.bg.height-this.sky.height)/1.5,this.ground.x=(this.bg.width-this.ground.width)/2,this.ground.y=this.sky.y+this.sky.height-this.ground.height/3,this.stone.x=this.sky.x,this.stone.y=this.sky.y,this.cao.x=0,this.cao.y=this.bg.height-this.cao.height/1.2,this.guan.x=this.bg.width-this.guan.width,this.guan.y=-this.guan.height/6,this.vsbg.x=(this.bg.width-this.vsbg.width)/2,this.vsbg.height=this.bg.height,this.vs.x=(this.bg.width-this.vs.width)/2,this.vs.y=(this.bg.height-this.vs.height)/2,this.startBtn.x=(this.bg.width-this.startBtn.width)/2,this.startBtn.y=this.vs.y+this.vs.height,this.rankBtn.x=this.bg.width-1.5*this.rankBtn.width,this.rankBtn.y=this.startBtn.y,this.gameInstruc.x=this.bg.width-1.5*this.gameInstruc.width,this.gameInstruc.y=this.rankBtn.y+1.5*this.gameInstruc.height},e.prototype.initMessage=function(){this.startBtn.touchEnabled=!0,this.rankBtn.touchEnabled=!0,this.gameInstruc.touchEnabled=!0,this.startBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.startBtnTouch,this),this.rankBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.rankBtnTouch,this),this.gameInstruc.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.gameInstrucTouch,this)},e.prototype.startBtnTouch=function(t){this.dispatchEvent(new EventManage(EventEnumerate.SELECT_COMPLETE,"startGame"))},e.prototype.rankBtnTouch=function(t){console.log("rank"),LoadFeedbackClass.feedback.setLable("获取排行榜数据中")},e.prototype.getRankDataDone=function(){},e.prototype.gameInstrucTouch=function(t){console.log("start instrcu"),LoadFeedbackClass.feedback.setLable("游戏说明文字内容\n\n游戏说明文字内容")},e}(BaseContainer);__reflect(StartGamePage.prototype,"StartGamePage");var checkpointClass=function(t){function e(){var e=t.call(this)||this;return e.initSprite(),e.UpWindowData(),e.initMessage(),e}return __extends(e,t),e.prototype.initSprite=function(){},e.prototype.UpWindowData=function(){},e.prototype.initMessage=function(){},e}(BaseContainer);__reflect(checkpointClass.prototype,"checkpointClass");var CreateLine=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createGridHander=function(t,e){var i,r;r=80*(e-1);for(var s=0;t>s;s++)i=80*s,this.drawLineHander(i,r,"x");for(r=80*(t-1),s=0;e>s;s++)i=80*s,this.drawLineHander(i,r,"y")},e.prototype.drawLineHander=function(t,e,i){var r=new egret.Shape;r.graphics.lineStyle(3,0,1),"x"==i&&(r.graphics.moveTo(t,0),r.graphics.lineTo(t,e)),"y"==i&&(r.graphics.moveTo(0,t),r.graphics.lineTo(e,t)),r.graphics.endFill(),this.addChild(r)},e}(egret.DisplayObjectContainer);__reflect(CreateLine.prototype,"CreateLine");var DataBus=function(t){function e(){var e=t.call(this)||this;return e._curCheckpointDataArr=[],e}return __extends(e,t),e._curCheckpointNum=0,e.timeConsuming=0,e.theyCount=0,e}(egret.DisplayObjectContainer);__reflect(DataBus.prototype,"DataBus");var DragonBonesAnimation=function(t){function e(e,i){void 0===i&&(i="Armature");var r=t.call(this)||this;return r.factory=dragonBones.EgretFactory.factory,r.addArmatureToFactory(r.factory,e),r.armature=r.factory.buildArmature(i),r.newObject=r.armature.display,r.addChild(r.newObject),dragonBones.WorldClock.clock.add(r.armature),r}return __extends(e,t),e.prototype.setNewTexture=function(t,e){var i=0,r=0,s=this.armature.getBone(t);i=s.slot.display.texture.textureWidth,r=s.slot.display.texture.textureHeight;var n=new egret.Bitmap;return n.anchorOffsetX=n.width/2,n.anchorOffsetY=n.height/2,n.texture=RES.getRes(e),s.slot.display=n,[i,r,n]},e.prototype.upSlotDisplay=function(t,e){var i=this.factory.getTextureDisplay(e),r=this.armature.getSlot(t);r.setDisplay(i)},e.prototype.fadeIn=function(t,e,i,r,s,n){return void 0===e&&(e=-1),void 0===i&&(i=-1),void 0===r&&(r=0),void 0===s&&(s=null),void 0===n&&(n=0),this.armature.animation.fadeIn(t,e,i,r,s,n)},e.prototype.play=function(t,e){return void 0===t&&(t=null),void 0===e&&(e=-1),this.armature.animation.play(t,e)},e.prototype.stop=function(t){void 0===t&&(t=null),this.armature.animation.stop(t)},e.prototype.gotoAndStop=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=-1),this.armature.animation.gotoAndStopByTime(t,e),this.armature.animation.lastAnimationState},Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing=this.armature.animation.isPlaying,this._playing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastAnimationState",{get:function(){return this.armature.animation.lastAnimationState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._isComplete=this.armature.animation.isCompleted,this._isComplete},enumerable:!0,configurable:!0}),e.prototype.setTimeScale=function(t){this.armature.animation.timeScale=t},e.prototype.addArmatureToFactory=function(t,e){var i=RES.getRes(e+"_ske_dbbin"),r=RES.getRes(e+"_tex_json"),s=RES.getRes(e+"_tex_png");t.parseDragonBonesData(i),t.parseTextureAtlasData(r,s)},e}(egret.DisplayObjectContainer);__reflect(DragonBonesAnimation.prototype,"DragonBonesAnimation");var LoadFeedbackClass=function(t){function e(i){void 0===i&&(i="");var r=t.call(this)||this;if(r.feedbackName="",r.feedbackStr="",e.feedback)throw new Error("已存在,无需创建");return e.feedback=r,r.feedbackStr=i,r.initSprite(),r.UpWindowData(),r.initMessage(),r.displaySp.alpha=0,r.displaySp.touchEnabled=!1,r}return __extends(e,t),e.prototype.setLable=function(t,e){void 0===e&&(e=!0),this.feedbackStr=t,this.feedbackText.text=this.feedbackStr,this.isHiddenOut(.3,0,1)},e.prototype.initSprite=function(){this.displaySp=new egret.Sprite,this.addChild(this.displaySp),this.bgColor=new egret.Sprite,this.bgColor.graphics.beginFill(0,.3),this.bgColor.graphics.drawRect(0,0,Main.W,Main.H),this.bgColor.graphics.endFill(),this.displaySp.addChild(this.bgColor),this.feedbackBg=new egret.Sprite,this.feedbackBg.graphics.beginFill(16777215,.95),this.feedbackBg.graphics.drawRoundRect(0,0,.8*Main.W,Main.H/3,50,50),this.feedbackBg.graphics.endFill(),this.displaySp.addChild(this.feedbackBg),this.shutDownSp=new egret.Sprite,this.shutDownSp.graphics.beginFill(14170168),this.shutDownSp.graphics.drawCircle(0,0,Main.W/20),this.shutDownSp.graphics.endFill(),this.displaySp.addChild(this.shutDownSp),this.shutDownBtn=new egret.TextField,this.shutDownBtn.verticalAlign=egret.VerticalAlign.MIDDLE,this.shutDownBtn.textAlign=egret.HorizontalAlign.CENTER,this.shutDownBtn.fontFamily="微软雅黑",this.shutDownBtn.textColor=16777215,this.shutDownBtn.text="✖",this.shutDownBtn.size=Main.W/20,this.shutDownSp.addChild(this.shutDownBtn),this.feedbackText=new egret.TextField,this.feedbackText.verticalAlign=egret.VerticalAlign.MIDDLE,this.feedbackText.textAlign=egret.HorizontalAlign.CENTER,this.feedbackText.width=.8*this.feedbackBg.width,this.feedbackText.height=this.feedbackBg.height,this.feedbackText.multiline=!0,this.feedbackText.wordWrap=!0,this.feedbackText.fontFamily="微软雅黑",this.feedbackText.textColor=0,this.feedbackText.text=this.feedbackStr,this.feedbackText.size=Main.W/20,this.feedbackBg.addChild(this.feedbackText)},e.prototype.UpWindowData=function(){this.displaySp.x=0,this.displaySp.y=0,this.bgColor.x=0,this.bgColor.y=0,this.bgColor.width=Main.W,this.bgColor.height=Main.H,this.feedbackBg.x=(Main.W-this.feedbackBg.width)/2,this.feedbackBg.y=(Main.H-this.feedbackBg.height)/2,this.feedbackBg.width=.8*Main.W,this.feedbackBg.height=Main.H/3,this.shutDownSp.x=this.feedbackBg.x+this.feedbackBg.width-this.shutDownSp.width/4,this.shutDownSp.y=this.feedbackBg.y,this.shutDownBtn.x=(this.shutDownSp.width-1.5*this.shutDownSp.width)/2,this.shutDownBtn.y=(this.shutDownSp.height-1.5*this.shutDownSp.height)/2,this.feedbackText.x=(this.feedbackBg.width-this.feedbackText.width)/2,this.feedbackText.y=(this.feedbackBg.height-this.feedbackText.height)/2},e.prototype.initMessage=function(){this.feedbackBg.touchEnabled=!1,this.bgColor.touchEnabled=!1,this.shutDownSp.touchEnabled=!1,this.bgColor.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.shutDownSpTouch,this),this.shutDownSp.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.shutDownSpTouch,this)},e.prototype.shutDownSpTouch=function(t){console.log("关闭shutdown"),this.isHiddenOut(.3,0,0),this.dispatchEvent(new EventManage(EventEnumerate.SELECT_COMPLETE,"shutdownFeedback"))},e.prototype.isHiddenOut=function(t,e,i){void 0===t&&(t=.1),void 0===e&&(e=.1),void 0===i&&(i=1),egret.Tween.get(this.displaySp,{onChangeObj:this}).wait(1e3*e).to({alpha:i},1e3*t).call(function(){0==i?(this.bgColor.touchEnabled=!1,this.feedbackBg.touchEnabled=!1,this.shutDownSp.touchEnabled=!1,this.displaySp.touchEnabled=!1,this.feedbackText.text=""):1==i&&(this.bgColor.touchEnabled=!0,this.feedbackBg.touchEnabled=!0,this.shutDownSp.touchEnabled=!0,this.displaySp.touchEnabled=!0)},this)},e}(BaseContainer);__reflect(LoadFeedbackClass.prototype,"LoadFeedbackClass");var MovieClipAnimation=function(t){function e(e){var i=t.call(this)||this;i.type="";var r=RES.getRes(e+"_json"),s=RES.getRes(e+"_png"),n=new egret.MovieClipDataFactory(r,s);return i.mc=new egret.MovieClip(n.generateMovieClipData(e)),i.addChild(i.mc),i}return __extends(e,t),e.prototype.gotoAndPlay=function(t,e){void 0===e&&(e=0),this.mc.gotoAndPlay(t,e)},e.prototype.gotoAndStop=function(t){this.mc.gotoAndStop(t)},e.prototype.play=function(t){void 0===t&&(t=1),this.mc.play(t)},e.prototype.stop=function(){this.mc.stop()},Object.defineProperty(e.prototype,"frameRate",{get:function(){return this.mc.frameRate},set:function(t){this._frameRate=t>>0,this.mc.frameRate=this._frameRate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){return this._currentFrame=this.mc.currentFrame,this._currentFrame=this._currentFrame>>0,this._currentFrame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._totalFrames=this.mc.totalFrames,this._totalFrames=this.totalFrames,this._totalFrames},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._isPlaying=this.mc.isPlaying,this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width=this.mc.width,this._width},set:function(t){this._width=t,this.mc.width=this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height=this.mc.height,this._height},set:function(t){this._height=t,this.mc.height=this._height},enumerable:!0,configurable:!0}),e}(egret.DisplayObjectContainer);__reflect(MovieClipAnimation.prototype,"MovieClipAnimation");var PublicClass=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t+"_png");return e.texture=i,e},e.prototype.createTextByName=function(t,e,i){void 0===e&&(e=30),void 0===i&&(i=16777215);var r=new egret.TextField;return r.verticalAlign=egret.VerticalAlign.MIDDLE,r.textAlign=egret.HorizontalAlign.CENTER,r.fontFamily="微软雅黑",r.textColor=i,r.text=t,r.size=e,r.textAlign=egret.HorizontalAlign.RIGHT,r.verticalAlign=egret.VerticalAlign.TOP,r},e.prototype.emptyArray=function(t){var e,i;for(e=t.length-1;e>=0;e--)i=t[e],i.parent.removeChild(i),t.splice(e,t.length);return t},e.prototype.typeOneHander=function(t,e,i){var r,s,n;r=t[e[1]][e[0]],s=t[i[1]][i[0]],n=t[e[1]][e[0]],t[e[1]][e[0]]=s,t[i[1]][i[0]]=n},e.prototype.typeTwoHander=function(t,e,i,r){var s=0,n=0,o=0,h=0,a=e[0][1],u=e[0][0],c=e[1][1],p=e[1][0];if("top"==r||"low"==r)var d=i[1],g=i[0];if("left"==r||"right"==r)var d=i[0][1],g=i[0][0],l=i[1][1],y=i[1][0];switch(r){case"top":s=t[c][p],t[c][p]=t[d][g],t[d][g]=s;break;case"low":s=t[a][u],t[a][u]=t[d][g],t[d][g]=s;break;case"left":s=t[a][u],n=t[c][p],o=t[d][g],h=t[l][y],t[d][g]=s,t[l][y]=n,t[a][u]=o,t[c][p]=h;break;case"right":s=t[a][u],n=t[c][p],o=t[d][g],h=t[l][y],t[d][g]=s,t[l][y]=n,t[a][u]=o,t[c][p]=h}},e.prototype.typeThreeHander=function(t,e,i,r){var s=0,n=0,o=0,h=0,a=e[0][1],u=e[0][0],c=e[1][1],p=e[1][0];if("left"==r||"right"==r)var d=i[1],g=i[0];if("top"==r||"low"==r)var d=i[0][1],g=i[0][0],l=i[1][1],y=i[1][0];switch(r){case"top":s=t[a][u],n=t[c][p],o=t[d][g],h=t[l][y],t[d][g]=s,t[l][y]=n,t[a][u]=o,t[c][p]=h;break;case"low":s=t[a][u],n=t[c][p],o=t[d][g],h=t[l][y],t[d][g]=s,t[l][y]=n,t[a][u]=o,t[c][p]=h;break;case"left":s=t[c][p],t[c][p]=t[d][g],t[d][g]=s;break;case"right":s=t[a][u],t[a][u]=t[d][g],t[d][g]=s}},e.prototype.typeFourHander=function(t,e,i,r){var s=0,n=0,o=0,h=0,a=0,u=0,c=e[0][1],p=e[0][0],d=e[1][1],g=e[1][0],l=e[2][1],y=e[2][0],m=e[3][1],_=e[3][0],b=i[0][1],f=i[0][0],x=i[1][1],w=i[1][0];switch(s=t[c][p],n=t[d][g],o=t[l][y],h=t[m][_],a=t[b][f],u=t[x][w],r){case"top":t[l][y]=a,t[m][_]=u,t[b][f]=s,t[x][w]=n;break;case"low":t[c][p]=a,t[d][g]=u,t[b][f]=s,t[x][w]=n;break;case"left":t[d][g]=a,t[m][_]=u,t[b][f]=n,t[x][w]=h;break;case"right":t[c][p]=a,t[l][y]=u,t[b][f]=s,t[x][w]=n}},e.prototype.typeFiveHander=function(t,e,i,r){var s=0,n=0,o=0,h=0,a=e[0][1],u=e[0][0],c=e[1][1],p=e[1][0],d=e[2][1],g=e[2][0];if("top"==r||"low"==r){var l=i[1],y=i[0];s=t[a][u],n=t[c][p],o=t[d][g],h=t[l][y]}switch(r){case"top":t[a][u]=s,t[c][p]=n,t[d][g]=h,t[l][y]=o;break;case"low":t[a][u]=h,t[c][p]=o,t[d][g]=n,t[l][y]=s}},e.prototype.typeSixeHander=function(t,e,i,r){if("left"==r||"right"==r)var s=0,n=0,o=0,h=0,a=e[0][1],u=e[0][0],c=e[1][1],p=e[1][0],d=e[2][1],g=e[2][0],l=i[1],y=i[0];if("top"==r||"low"==r)var s=0,n=0,o=0,h=0,m=0,_=0,a=e[0][1],u=e[0][0],c=e[1][1],p=e[1][0],d=e[2][1],g=e[2][0],l=i[0][1],y=i[0][0],b=i[1][1],f=i[1][0],x=i[2][1],w=i[2][0];switch(r){case"top":s=t[a][u],n=t[c][p],o=t[d][g],h=t[l][y],m=t[b][f],_=t[x][w],t[a][u]=h,t[c][p]=m,t[d][g]=_,t[l][y]=s,t[b][f]=n,t[x][w]=o;break;case"low":s=t[a][u],n=t[c][p],o=t[d][g],h=t[l][y],m=t[b][f],_=t[x][w],t[a][u]=h,t[c][p]=m,t[d][g]=_,t[l][y]=s,t[b][f]=n,t[x][w]=o;break;case"left":s=t[a][u],n=t[c][p],o=t[d][g],h=t[l][y],t[a][u]=s,t[c][p]=n,t[d][g]=h,t[l][y]=o;break;case"right":s=t[a][u],n=t[c][p],o=t[d][g],h=t[l][y],t[a][u]=h,t[c][p]=o,t[d][g]=n,t[l][y]=s}},e.prototype.twoPointDistance=function(t,e,i,r){var s=Math.abs(t-i),n=Math.abs(e-r);return Math.sqrt(s*s+n*n)},e}(egret.DisplayObjectContainer);__reflect(PublicClass.prototype,"PublicClass");var WebServerData=function(t){function e(e){var i=t.call(this)||this;return i.Request_Register="userRegister",i.Request_Login="userLogin",i.Request_QuickLogin="quickLogin",i.Request_UserCheck="userCheck",i.Request_GetUserData="getUserData",i.Request_GetUserInfo="getUserInfo",i.Request_SetUserInfo="setUserInfo",i.Request_GetPortraitList="getPortraitList",i.Request_SetPassword="setPassword",i.urlAddress="",i.urlAddress="http://10.8.9.10/MathPlay/ability/",i}return __extends(e,t),e.getInstance=function(){return null==e._netManage&&(e._netManage=new e(new SingletonEnforcer)),e._netManage},e.prototype.userRegister=function(t,e,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var s="username="+t+"&password="+e;this.currThis=r,this.sendRequest(this.Request_Register,s,i)},e.prototype.userLogin=function(t,e,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var s="username="+t+"&password="+e;this.currThis=r,this.sendRequest(this.Request_Login,s,i)},e.prototype.userQuickLogin=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.currThis=e,this.sendRequest(this.Request_QuickLogin,null,t)},e.prototype.userCheckToken=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r="token="+t;this.currThis=i,this.sendRequest(this.Request_UserCheck,r,e)},e.prototype.getUserData=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r="token="+t;this.currThis=i,this.sendRequest(this.Request_GetUserData,r,e)},e.prototype.getUserInfo=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r="token="+t;this.currThis=i,this.sendRequest(this.Request_GetUserInfo,r,e)},e.prototype.setUserInfo=function(t,e,i,r,s){void 0===r&&(r=null),void 0===s&&(s=null);
var n="token="+t+"&nickname="+e+"&pictureId="+i;this.currThis=s,this.sendRequest(this.Request_SetUserInfo,n,r)},e.prototype.getPortraitList=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r="token="+t;this.currThis=i,this.sendRequest(this.Request_GetPortraitList,r,e)},e.prototype.setPassword=function(t,e,i,r,s){void 0===r&&(r=null),void 0===s&&(s=null);var n="token="+t+"&password="+e+"&newpassword="+i;this.currThis=s,this.sendRequest(this.Request_SetPassword,n,r)},e.prototype.getRankData=function(t,e,i,r,s){void 0===r&&(r=null),void 0===s&&(s=null);var n="token="+t+"&password="+e+"&newpassword="+i;this.currThis=s,this.sendRequest(this.Request_SetPassword,n,r)},e.prototype.sendRequest=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),this.func=i;var r=new egret.HttpRequest;r.responseType=egret.HttpResponseType.TEXT,r.open(this.urlAddress+t+"/",egret.HttpMethod.POST),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.send(e),r.addEventListener(egret.Event.COMPLETE,this.onPostComplete,this),r.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onPostIOError,this),r.addEventListener(egret.ProgressEvent.PROGRESS,this.onPostProgress,this)},e.prototype.onPostComplete=function(t){var e=t.currentTarget;null!=this.func&&this.func([JSON.parse(e.response),this.currThis])},e.prototype.onPostIOError=function(t){},e.prototype.onPostProgress=function(t){},e}(egret.DisplayObject);__reflect(WebServerData.prototype,"WebServerData");var SingletonEnforcer=function(){function t(){}return t}();__reflect(SingletonEnforcer.prototype,"SingletonEnforcer");var TypeSix=function(t){function e(e,i){void 0===i&&(i="tra");var r=t.call(this)||this;return r.countIndex=0,r.imgType="",r.countIndex=e,r.imgType=i,r.init_Sprite(),r.upPosition(),r.initEvent(),r}return __extends(e,t),e.prototype.init_Sprite=function(){this.img_content=new egret.Bitmap,this.img_content.width=240,this.img_content.height=80,this.img_content.texture=RES.getRes("img_"+this.imgType+"_six_"+this.countIndex+"_png"),this.addChild(this.img_content)},e.prototype.upPosition=function(){},e.prototype.initEvent=function(){},e.prototype.resetEvent=function(){},e}(ImageBasisClass);__reflect(TypeSix.prototype,"TypeSix");